                                      1 ;--------------------------------------------------------
                                      2 ; File Created by SDCC : free open source ANSI-C Compiler
                                      3 ; Version 3.9.4 #11422 (MINGW64)
                                      4 ;--------------------------------------------------------
                                      5 	.module motor
                                      6 	.optsdcc -mstm8
                                      7 	
                                      8 ;--------------------------------------------------------
                                      9 ; Public variables in this module
                                     10 ;--------------------------------------------------------
                                     11 	.globl _TIM1_CAP_COM_IRQHandler
                                     12 	.globl _ui16_adc_read_battery_voltage_10b
                                     13 	.globl _ui16_adc_read_battery_current_10b
                                     14 	.globl _get_configuration_variables
                                     15 	.globl _GPIO_Init
                                     16 	.globl _TIM1_CtrlPWMOutputs
                                     17 	.globl _ui8_wheel_speed_sensor_change_counter
                                     18 	.globl _ui16_wheel_speed_sensor_counter
                                     19 	.globl _ui8_wheel_speed_sensor_state_old
                                     20 	.globl _ui8_wheel_speed_sensor_state
                                     21 	.globl _ui16_torque_sensor_throttle_value
                                     22 	.globl _ui16_torque_sensor_throttle_max_value
                                     23 	.globl _ui8_torque_sensor_pas_signal_change_counter
                                     24 	.globl _ui16_torque_sensor_throttle_processed_value
                                     25 	.globl _ui16_pas_counter
                                     26 	.globl _ui8_pas_after_first_pulse
                                     27 	.globl _ui8_pas_state_old
                                     28 	.globl _ui8_pas_state
                                     29 	.globl _ui8_adc_motor_phase_current_offset
                                     30 	.globl _ui8_adc_target_motor_phase_max_current
                                     31 	.globl _ui8_current_controller_flag
                                     32 	.globl _ui8_current_controller_counter
                                     33 	.globl _ui8_adc_battery_current
                                     34 	.globl _ui16_adc_battery_current_10b
                                     35 	.globl _ui8_adc_battery_current_filtered_10b
                                     36 	.globl _ui16_adc_battery_current_accumulated
                                     37 	.globl _ui16_adc_battery_voltage_filtered_10b
                                     38 	.globl _ui16_adc_battery_voltage_accumulated
                                     39 	.globl _ui8_adc_battery_voltage_cut_off
                                     40 	.globl _ui8_first_time_run_flag
                                     41 	.globl _ui8_controller_adc_motor_max_current
                                     42 	.globl _ui16_counter_adc_motor_current_ramp_up
                                     43 	.globl _ui8_controller_adc_battery_max_current
                                     44 	.globl _ui16_counter_adc_battery_current_ramp_up
                                     45 	.globl _ui8_phase_c_voltage
                                     46 	.globl _ui8_phase_b_voltage
                                     47 	.globl _ui8_phase_a_voltage
                                     48 	.globl _ui16_counter_duty_cycle_ramp_down
                                     49 	.globl _ui16_counter_duty_cycle_ramp_up
                                     50 	.globl _ui16_duty_cycle_ramp_down_inverse_step
                                     51 	.globl _ui16_duty_cycle_ramp_up_inverse_step
                                     52 	.globl _ui8_duty_cycle
                                     53 	.globl _ui8_half_erps_flag
                                     54 	.globl _ui8_hall_sensors_state_last
                                     55 	.globl _ui8_hall_sensors_state
                                     56 	.globl _ui8_motor_controller_state
                                     57 	.globl _ui8_motor_commutation_type
                                     58 	.globl _ui16_foc_angle_accumulated
                                     59 	.globl _ui8_interpolation_angle
                                     60 	.globl _ui8_foc_angle
                                     61 	.globl _ui8_motor_rotor_angle
                                     62 	.globl _ui8_motor_rotor_absolute_angle
                                     63 	.globl _ui8_svm_table_index
                                     64 	.globl _ui16_max_motor_speed_erps
                                     65 	.globl _ui16_PWM_cycles_counter_total
                                     66 	.globl _ui16_PWM_cycles_counter_6
                                     67 	.globl _ui16_PWM_cycles_counter
                                     68 	.globl _ui8_sin_table
                                     69 	.globl _ui8_svm_table
                                     70 	.globl _ui16_value
                                     71 	.globl _motor_controller
                                     72 	.globl _motor_disable_PWM
                                     73 	.globl _motor_enable_PWM
                                     74 	.globl _motor_controller_set_state
                                     75 	.globl _motor_controller_reset_state
                                     76 	.globl _motor_controller_state_is_set
                                     77 	.globl _hall_sensor_init
                                     78 	.globl _motor_init
                                     79 	.globl _motor_set_pwm_duty_cycle_target
                                     80 	.globl _motor_set_pwm_duty_cycle_ramp_up_inverse_step
                                     81 	.globl _motor_set_pwm_duty_cycle_ramp_down_inverse_step
                                     82 	.globl _motor_set_phase_current_max
                                     83 	.globl _ui16_motor_get_motor_speed_erps
                                     84 	.globl _read_battery_voltage
                                     85 	.globl _read_battery_current
                                     86 	.globl _calc_foc_angle
                                     87 	.globl _asin_table
                                     88 	.globl _motor_get_adc_battery_current_filtered_10b
                                     89 	.globl _motor_get_adc_battery_voltage_filtered_10b
                                     90 	.globl _motor_set_adc_battery_voltage_cut_off
                                     91 ;--------------------------------------------------------
                                     92 ; ram data
                                     93 ;--------------------------------------------------------
                                     94 	.area DATA
                           000000    95 G$ui16_value$0_0$0==.
      000000                         96 _ui16_value::
      000000                         97 	.ds 2
                           000002    98 Lmotor.TIM1_CAP_COM_IRQHandler$ui8_temp$1_0$427==.
      000002                         99 _TIM1_CAP_COM_IRQHandler_ui8_temp_65536_427:
      000002                        100 	.ds 1
                           000003   101 Lmotor.TIM1_CAP_COM_IRQHandler$valuesAreTooHigh$1_0$427==.
      000003                        102 _TIM1_CAP_COM_IRQHandler_valuesAreTooHigh_65536_427:
      000003                        103 	.ds 1
                                    104 ;--------------------------------------------------------
                                    105 ; ram data
                                    106 ;--------------------------------------------------------
                                    107 	.area INITIALIZED
                           000000   108 G$ui8_svm_table$0_0$0==.
      000000                        109 _ui8_svm_table::
      000000                        110 	.ds 256
                           000100   111 G$ui8_sin_table$0_0$0==.
      000100                        112 _ui8_sin_table::
      000100                        113 	.ds 60
                           00013C   114 G$ui16_PWM_cycles_counter$0_0$0==.
      00013C                        115 _ui16_PWM_cycles_counter::
      00013C                        116 	.ds 2
                           00013E   117 G$ui16_PWM_cycles_counter_6$0_0$0==.
      00013E                        118 _ui16_PWM_cycles_counter_6::
      00013E                        119 	.ds 2
                           000140   120 G$ui16_PWM_cycles_counter_total$0_0$0==.
      000140                        121 _ui16_PWM_cycles_counter_total::
      000140                        122 	.ds 2
                           000142   123 G$ui16_max_motor_speed_erps$0_0$0==.
      000142                        124 _ui16_max_motor_speed_erps::
      000142                        125 	.ds 2
                           000144   126 Fmotor$ui16_motor_speed_erps$0_0$0==.
      000144                        127 _ui16_motor_speed_erps:
      000144                        128 	.ds 2
                           000146   129 G$ui8_svm_table_index$0_0$0==.
      000146                        130 _ui8_svm_table_index::
      000146                        131 	.ds 1
                           000147   132 G$ui8_motor_rotor_absolute_angle$0_0$0==.
      000147                        133 _ui8_motor_rotor_absolute_angle::
      000147                        134 	.ds 1
                           000148   135 G$ui8_motor_rotor_angle$0_0$0==.
      000148                        136 _ui8_motor_rotor_angle::
      000148                        137 	.ds 1
                           000149   138 G$ui8_foc_angle$0_0$0==.
      000149                        139 _ui8_foc_angle::
      000149                        140 	.ds 1
                           00014A   141 G$ui8_interpolation_angle$0_0$0==.
      00014A                        142 _ui8_interpolation_angle::
      00014A                        143 	.ds 1
                           00014B   144 G$ui16_foc_angle_accumulated$0_0$0==.
      00014B                        145 _ui16_foc_angle_accumulated::
      00014B                        146 	.ds 2
                           00014D   147 G$ui8_motor_commutation_type$0_0$0==.
      00014D                        148 _ui8_motor_commutation_type::
      00014D                        149 	.ds 1
                           00014E   150 G$ui8_motor_controller_state$0_0$0==.
      00014E                        151 _ui8_motor_controller_state::
      00014E                        152 	.ds 1
                           00014F   153 G$ui8_hall_sensors_state$0_0$0==.
      00014F                        154 _ui8_hall_sensors_state::
      00014F                        155 	.ds 1
                           000150   156 G$ui8_hall_sensors_state_last$0_0$0==.
      000150                        157 _ui8_hall_sensors_state_last::
      000150                        158 	.ds 1
                           000151   159 G$ui8_half_erps_flag$0_0$0==.
      000151                        160 _ui8_half_erps_flag::
      000151                        161 	.ds 1
                           000152   162 G$ui8_duty_cycle$0_0$0==.
      000152                        163 _ui8_duty_cycle::
      000152                        164 	.ds 1
                           000153   165 Fmotor$ui8_duty_cycle_target$0_0$0==.
      000153                        166 _ui8_duty_cycle_target:
      000153                        167 	.ds 1
                           000154   168 G$ui16_duty_cycle_ramp_up_inverse_step$0_0$0==.
      000154                        169 _ui16_duty_cycle_ramp_up_inverse_step::
      000154                        170 	.ds 2
                           000156   171 G$ui16_duty_cycle_ramp_down_inverse_step$0_0$0==.
      000156                        172 _ui16_duty_cycle_ramp_down_inverse_step::
      000156                        173 	.ds 2
                           000158   174 G$ui16_counter_duty_cycle_ramp_up$0_0$0==.
      000158                        175 _ui16_counter_duty_cycle_ramp_up::
      000158                        176 	.ds 2
                           00015A   177 G$ui16_counter_duty_cycle_ramp_down$0_0$0==.
      00015A                        178 _ui16_counter_duty_cycle_ramp_down::
      00015A                        179 	.ds 2
                           00015C   180 G$ui8_phase_a_voltage$0_0$0==.
      00015C                        181 _ui8_phase_a_voltage::
      00015C                        182 	.ds 1
                           00015D   183 G$ui8_phase_b_voltage$0_0$0==.
      00015D                        184 _ui8_phase_b_voltage::
      00015D                        185 	.ds 1
                           00015E   186 G$ui8_phase_c_voltage$0_0$0==.
      00015E                        187 _ui8_phase_c_voltage::
      00015E                        188 	.ds 1
                           00015F   189 G$ui16_counter_adc_battery_current_ramp_up$0_0$0==.
      00015F                        190 _ui16_counter_adc_battery_current_ramp_up::
      00015F                        191 	.ds 2
                           000161   192 G$ui8_controller_adc_battery_max_current$0_0$0==.
      000161                        193 _ui8_controller_adc_battery_max_current::
      000161                        194 	.ds 1
                           000162   195 G$ui16_counter_adc_motor_current_ramp_up$0_0$0==.
      000162                        196 _ui16_counter_adc_motor_current_ramp_up::
      000162                        197 	.ds 2
                           000164   198 G$ui8_controller_adc_motor_max_current$0_0$0==.
      000164                        199 _ui8_controller_adc_motor_max_current::
      000164                        200 	.ds 1
                           000165   201 G$ui8_first_time_run_flag$0_0$0==.
      000165                        202 _ui8_first_time_run_flag::
      000165                        203 	.ds 1
                           000166   204 G$ui8_adc_battery_voltage_cut_off$0_0$0==.
      000166                        205 _ui8_adc_battery_voltage_cut_off::
      000166                        206 	.ds 1
                           000167   207 G$ui16_adc_battery_voltage_accumulated$0_0$0==.
      000167                        208 _ui16_adc_battery_voltage_accumulated::
      000167                        209 	.ds 2
                           000169   210 G$ui16_adc_battery_voltage_filtered_10b$0_0$0==.
      000169                        211 _ui16_adc_battery_voltage_filtered_10b::
      000169                        212 	.ds 2
                           00016B   213 G$ui16_adc_battery_current_accumulated$0_0$0==.
      00016B                        214 _ui16_adc_battery_current_accumulated::
      00016B                        215 	.ds 2
                           00016D   216 G$ui8_adc_battery_current_filtered_10b$0_0$0==.
      00016D                        217 _ui8_adc_battery_current_filtered_10b::
      00016D                        218 	.ds 1
                           00016E   219 G$ui16_adc_battery_current_10b$0_0$0==.
      00016E                        220 _ui16_adc_battery_current_10b::
      00016E                        221 	.ds 2
                           000170   222 G$ui8_adc_battery_current$0_0$0==.
      000170                        223 _ui8_adc_battery_current::
      000170                        224 	.ds 1
                           000171   225 Fmotor$ui8_adc_motor_phase_current$0_0$0==.
      000171                        226 _ui8_adc_motor_phase_current:
      000171                        227 	.ds 1
                           000172   228 G$ui8_current_controller_counter$0_0$0==.
      000172                        229 _ui8_current_controller_counter::
      000172                        230 	.ds 1
                           000173   231 G$ui8_current_controller_flag$0_0$0==.
      000173                        232 _ui8_current_controller_flag::
      000173                        233 	.ds 1
                           000174   234 G$ui8_adc_target_motor_phase_max_current$0_0$0==.
      000174                        235 _ui8_adc_target_motor_phase_max_current::
      000174                        236 	.ds 1
                           000175   237 G$ui8_adc_motor_phase_current_offset$0_0$0==.
      000175                        238 _ui8_adc_motor_phase_current_offset::
      000175                        239 	.ds 1
                           000176   240 G$ui8_pas_state$0_0$0==.
      000176                        241 _ui8_pas_state::
      000176                        242 	.ds 1
                           000177   243 G$ui8_pas_state_old$0_0$0==.
      000177                        244 _ui8_pas_state_old::
      000177                        245 	.ds 1
                           000178   246 G$ui8_pas_after_first_pulse$0_0$0==.
      000178                        247 _ui8_pas_after_first_pulse::
      000178                        248 	.ds 1
                           000179   249 G$ui16_pas_counter$0_0$0==.
      000179                        250 _ui16_pas_counter::
      000179                        251 	.ds 2
                           00017B   252 G$ui16_torque_sensor_throttle_processed_value$0_0$0==.
      00017B                        253 _ui16_torque_sensor_throttle_processed_value::
      00017B                        254 	.ds 2
                           00017D   255 G$ui8_torque_sensor_pas_signal_change_counter$0_0$0==.
      00017D                        256 _ui8_torque_sensor_pas_signal_change_counter::
      00017D                        257 	.ds 1
                           00017E   258 G$ui16_torque_sensor_throttle_max_value$0_0$0==.
      00017E                        259 _ui16_torque_sensor_throttle_max_value::
      00017E                        260 	.ds 2
                           000180   261 G$ui16_torque_sensor_throttle_value$0_0$0==.
      000180                        262 _ui16_torque_sensor_throttle_value::
      000180                        263 	.ds 2
                           000182   264 G$ui8_wheel_speed_sensor_state$0_0$0==.
      000182                        265 _ui8_wheel_speed_sensor_state::
      000182                        266 	.ds 1
                           000183   267 G$ui8_wheel_speed_sensor_state_old$0_0$0==.
      000183                        268 _ui8_wheel_speed_sensor_state_old::
      000183                        269 	.ds 1
                           000184   270 G$ui16_wheel_speed_sensor_counter$0_0$0==.
      000184                        271 _ui16_wheel_speed_sensor_counter::
      000184                        272 	.ds 2
                           000186   273 G$ui8_wheel_speed_sensor_change_counter$0_0$0==.
      000186                        274 _ui8_wheel_speed_sensor_change_counter::
      000186                        275 	.ds 1
                                    276 ;--------------------------------------------------------
                                    277 ; absolute external ram data
                                    278 ;--------------------------------------------------------
                                    279 	.area DABS (ABS)
                                    280 
                                    281 ; default segment ordering for linker
                                    282 	.area HOME
                                    283 	.area GSINIT
                                    284 	.area GSFINAL
                                    285 	.area CONST
                                    286 	.area INITIALIZER
                                    287 	.area CODE
                                    288 
                                    289 ;--------------------------------------------------------
                                    290 ; global & static initialisations
                                    291 ;--------------------------------------------------------
                                    292 	.area HOME
                                    293 	.area GSINIT
                                    294 	.area GSFINAL
                                    295 	.area GSINIT
                                    296 ;--------------------------------------------------------
                                    297 ; Home
                                    298 ;--------------------------------------------------------
                                    299 	.area HOME
                                    300 	.area HOME
                                    301 ;--------------------------------------------------------
                                    302 ; code
                                    303 ;--------------------------------------------------------
                                    304 	.area CODE
                           000000   305 	G$motor_controller$0$0 ==.
                           000000   306 	C$motor.c$496$0_0$425 ==.
                                    307 ;	motor.c: 496: void motor_controller(void)
                                    308 ;	-----------------------------------------
                                    309 ;	 function motor_controller
                                    310 ;	-----------------------------------------
      000000                        311 _motor_controller:
                           000000   312 	C$motor.c$499$1_0$425 ==.
                                    313 ;	motor.c: 499: read_battery_voltage();
      000000 CDr06r14         [ 4]  314 	call	_read_battery_voltage
                           000003   315 	C$motor.c$500$1_0$425 ==.
                                    316 ;	motor.c: 500: read_battery_current();
      000003 CDr06r34         [ 4]  317 	call	_read_battery_current
                           000006   318 	C$motor.c$503$1_0$425 ==.
                                    319 ;	motor.c: 503: calc_foc_angle();
      000006 CDr06r55         [ 4]  320 	call	_calc_foc_angle
                           000009   321 	C$motor.c$504$1_0$425 ==.
                                    322 ;	motor.c: 504: }
                           000009   323 	C$motor.c$504$1_0$425 ==.
                           000009   324 	XG$motor_controller$0$0 ==.
      000009 81               [ 4]  325 	ret
                           00000A   326 	G$TIM1_CAP_COM_IRQHandler$0$0 ==.
                           00000A   327 	C$motor.c$513$1_0$427 ==.
                                    328 ;	motor.c: 513: void TIM1_CAP_COM_IRQHandler(void) __interrupt(TIM1_CAP_COM_IRQHANDLER) // runs every 64us (PWM frequency)
                                    329 ;	-----------------------------------------
                                    330 ;	 function TIM1_CAP_COM_IRQHandler
                                    331 ;	-----------------------------------------
      00000A                        332 _TIM1_CAP_COM_IRQHandler:
      00000A 4F               [ 1]  333 	clr	a
      00000B 62               [ 2]  334 	div	x, a
      00000C 52 02            [ 2]  335 	sub	sp, #2
                           00000E   336 	C$motor.c$518$1_0$427 ==.
                                    337 ;	motor.c: 518: p_configuration_variables = get_configuration_variables();
      00000E CDr00r00         [ 4]  338 	call	_get_configuration_variables
                           000011   339 	C$motor.c$524$1_0$427 ==.
                                    340 ;	motor.c: 524: ADC1->CR2 &= (uint8_t)(~ADC1_CR2_SCAN);
      000011 72 13 54 02      [ 1]  341 	bres	21506, #1
                           000015   342 	C$motor.c$526$1_0$427 ==.
                                    343 ;	motor.c: 526: ADC1->CSR = 0x05;
      000015 35 05 54 00      [ 1]  344 	mov	0x5400+0, #0x05
                           000019   345 	C$motor.c$528$1_0$427 ==.
                                    346 ;	motor.c: 528: ADC1->CR1 |= ADC1_CR1_ADON;
      000019 72 10 54 01      [ 1]  347 	bset	21505, #0
                           00001D   348 	C$motor.c$529$1_0$427 ==.
                                    349 ;	motor.c: 529: while(!(ADC1->CSR & ADC1_FLAG_EOC)) ;
      00001D                        350 00101$:
      00001D C6 54 00         [ 1]  351 	ld	a, 0x5400
      000020 2A FB            [ 1]  352 	jrpl	00101$
                           000022   353 	C$motor.c$530$1_0$427 ==.
                                    354 ;	motor.c: 530: ui16_adc_battery_current_10b = ui16_adc_read_battery_current_10b();
      000022 CDr00r00         [ 4]  355 	call	_ui16_adc_read_battery_current_10b
      000025 CFu01u6E         [ 2]  356 	ldw	_ui16_adc_battery_current_10b+0, x
                           000028   357 	C$motor.c$531$1_0$427 ==.
                                    358 ;	motor.c: 531: ui8_adc_battery_current = ui16_adc_battery_current_10b >> 2;
      000028 CEu01u6E         [ 2]  359 	ldw	x, _ui16_adc_battery_current_10b+0
      00002B 54               [ 2]  360 	srlw	x
      00002C 54               [ 2]  361 	srlw	x
      00002D 9F               [ 1]  362 	ld	a, xl
      00002E C7u01u70         [ 1]  363 	ld	_ui8_adc_battery_current+0, a
                           000031   364 	C$motor.c$534$1_0$427 ==.
                                    365 ;	motor.c: 534: if(ui8_duty_cycle > 0)
      000031 72 5Du01u52      [ 1]  366 	tnz	_ui8_duty_cycle+0
      000035 27 17            [ 1]  367 	jreq	00105$
                           000037   368 	C$motor.c$536$2_0$428 ==.
                                    369 ;	motor.c: 536: ui8_adc_motor_phase_current = ((ui16_adc_battery_current_10b << 6) / ((uint16_t) ui8_duty_cycle));
      000037 CEu01u6E         [ 2]  370 	ldw	x, _ui16_adc_battery_current_10b+0
      00003A 58               [ 2]  371 	sllw	x
      00003B 58               [ 2]  372 	sllw	x
      00003C 58               [ 2]  373 	sllw	x
      00003D 58               [ 2]  374 	sllw	x
      00003E 58               [ 2]  375 	sllw	x
      00003F 58               [ 2]  376 	sllw	x
      000040 90 5F            [ 1]  377 	clrw	y
      000042 C6u01u52         [ 1]  378 	ld	a, _ui8_duty_cycle+0
      000045 90 97            [ 1]  379 	ld	yl, a
      000047 65               [ 2]  380 	divw	x, y
      000048 9F               [ 1]  381 	ld	a, xl
      000049 C7u01u71         [ 1]  382 	ld	_ui8_adc_motor_phase_current+0, a
      00004C 20 04            [ 2]  383 	jra	00106$
      00004E                        384 00105$:
                           00004E   385 	C$motor.c$540$2_0$429 ==.
                                    386 ;	motor.c: 540: ui8_adc_motor_phase_current = 0;
      00004E 72 5Fu01u71      [ 1]  387 	clr	_ui8_adc_motor_phase_current+0
      000052                        388 00106$:
                           000052   389 	C$motor.c$545$1_0$427 ==.
                                    390 ;	motor.c: 545: ADC1->CR2 |= ADC1_CR2_SCAN; // enable scan mode
      000052 72 12 54 02      [ 1]  391 	bset	21506, #1
                           000056   392 	C$motor.c$546$1_0$427 ==.
                                    393 ;	motor.c: 546: ADC1->CSR = 0x07; // clear EOC flag first (selected also channel 7)
      000056 35 07 54 00      [ 1]  394 	mov	0x5400+0, #0x07
                           00005A   395 	C$motor.c$547$1_0$427 ==.
                                    396 ;	motor.c: 547: ADC1->CR1 |= ADC1_CR1_ADON; // start ADC1 conversion
      00005A 72 10 54 01      [ 1]  397 	bset	21505, #0
                           00005E   398 	C$motor.c$556$1_0$427 ==.
                                    399 ;	motor.c: 556: ui8_hall_sensors_state = ((HALL_SENSOR_A__PORT->IDR & HALL_SENSOR_A__PIN) >> 5)|
      00005E C6 50 15         [ 1]  400 	ld	a, 0x5015
      000061 A4 20            [ 1]  401 	and	a, #0x20
      000063 4E               [ 1]  402 	swap	a
      000064 A4 0F            [ 1]  403 	and	a, #0x0f
      000066 44               [ 1]  404 	srl	a
      000067 6B 02            [ 1]  405 	ld	(0x02, sp), a
                           000069   406 	C$motor.c$557$1_0$427 ==.
                                    407 ;	motor.c: 557: ((HALL_SENSOR_B__PORT->IDR & HALL_SENSOR_B__PIN) >> 1)|
      000069 C6 50 10         [ 1]  408 	ld	a, 0x5010
      00006C A4 04            [ 1]  409 	and	a, #0x04
      00006E 44               [ 1]  410 	srl	a
      00006F 1A 02            [ 1]  411 	or	a, (0x02, sp)
      000071 6B 02            [ 1]  412 	ld	(0x02, sp), a
                           000073   413 	C$motor.c$558$1_0$427 ==.
                                    414 ;	motor.c: 558: ((HALL_SENSOR_C__PORT->IDR & HALL_SENSOR_C__PIN) >> 3);
      000073 C6 50 0B         [ 1]  415 	ld	a, 0x500b
      000076 A4 20            [ 1]  416 	and	a, #0x20
      000078 44               [ 1]  417 	srl	a
      000079 44               [ 1]  418 	srl	a
      00007A 44               [ 1]  419 	srl	a
      00007B 1A 02            [ 1]  420 	or	a, (0x02, sp)
      00007D C7u01u4F         [ 1]  421 	ld	_ui8_hall_sensors_state+0, a
                           000080   422 	C$motor.c$560$1_0$427 ==.
                                    423 ;	motor.c: 560: if(ui8_hall_sensors_state != ui8_hall_sensors_state_last)
      000080 C6u01u50         [ 1]  424 	ld	a, _ui8_hall_sensors_state_last+0
      000083 C1u01u4F         [ 1]  425 	cp	a, _ui8_hall_sensors_state+0
      000086 26 03            [ 1]  426 	jrne	00427$
      000088 CCr01r39         [ 2]  427 	jp	00128$
      00008B                        428 00427$:
                           00008B   429 	C$motor.c$562$2_0$430 ==.
                                    430 ;	motor.c: 562: ui8_hall_sensors_state_last = ui8_hall_sensors_state;
      00008B 55u01u4Fu01u50   [ 1]  431 	mov	_ui8_hall_sensors_state_last+0, _ui8_hall_sensors_state+0
                           000090   432 	C$motor.c$564$2_0$430 ==.
                                    433 ;	motor.c: 564: switch(ui8_hall_sensors_state)
      000090 C6u01u4F         [ 1]  434 	ld	a, _ui8_hall_sensors_state+0
      000093 A1 06            [ 1]  435 	cp	a, #0x06
      000095 23 03            [ 2]  436 	jrule	00429$
      000097 CCr01r30         [ 2]  437 	jp	00125$
      00009A                        438 00429$:
      00009A 5F               [ 1]  439 	clrw	x
      00009B 97               [ 1]  440 	ld	xl, a
      00009C 58               [ 2]  441 	sllw	x
      00009D DEu00uA1         [ 2]  442 	ldw	x, (#00430$, x)
      0000A0 FC               [ 2]  443 	jp	(x)
      0000A1                        444 00430$:
      0000A1r01r30                  445 	.dw	#00125$
      0000A3r00rB6                  446 	.dw	#00108$
      0000A5r01r2A                  447 	.dw	#00124$
      0000A7r00rAF                  448 	.dw	#00107$
      0000A9r01r1A                  449 	.dw	#00122$
      0000ABr01r14                  450 	.dw	#00121$
      0000ADr01r20                  451 	.dw	#00123$
                           0000AF   452 	C$motor.c$566$3_0$431 ==.
                                    453 ;	motor.c: 566: case 3:
      0000AF                        454 00107$:
                           0000AF   455 	C$motor.c$567$3_0$431 ==.
                                    456 ;	motor.c: 567: ui8_motor_rotor_absolute_angle = (uint8_t) MOTOR_ROTOR_ANGLE_150;
      0000AF 35 74u01u47      [ 1]  457 	mov	_ui8_motor_rotor_absolute_angle+0, #0x74
                           0000B3   458 	C$motor.c$568$3_0$431 ==.
                                    459 ;	motor.c: 568: break;
      0000B3 CCr01r33         [ 2]  460 	jp	00126$
                           0000B6   461 	C$motor.c$570$3_0$431 ==.
                                    462 ;	motor.c: 570: case 1:
      0000B6                        463 00108$:
                           0000B6   464 	C$motor.c$571$3_0$431 ==.
                                    465 ;	motor.c: 571: if(ui8_half_erps_flag == 1)
      0000B6 C6u01u51         [ 1]  466 	ld	a, _ui8_half_erps_flag+0
      0000B9 4A               [ 1]  467 	dec	a
      0000BA 27 03            [ 1]  468 	jreq	00433$
      0000BC CCr01r0E         [ 2]  469 	jp	00120$
      0000BF                        470 00433$:
                           0000BF   471 	C$motor.c$573$4_0$432 ==.
                                    472 ;	motor.c: 573: ui8_half_erps_flag = 0;
      0000BF 72 5Fu01u51      [ 1]  473 	clr	_ui8_half_erps_flag+0
                           0000C3   474 	C$motor.c$574$4_0$432 ==.
                                    475 ;	motor.c: 574: ui16_PWM_cycles_counter_total = ui16_PWM_cycles_counter;
      0000C3 CEu01u3C         [ 2]  476 	ldw	x, _ui16_PWM_cycles_counter+0
      0000C6 CFu01u40         [ 2]  477 	ldw	_ui16_PWM_cycles_counter_total+0, x
                           0000C9   478 	C$motor.c$575$4_0$432 ==.
                                    479 ;	motor.c: 575: ui16_PWM_cycles_counter = 1;
      0000C9 AE 00 01         [ 2]  480 	ldw	x, #0x0001
      0000CC CFu01u3C         [ 2]  481 	ldw	_ui16_PWM_cycles_counter+0, x
                           0000CF   482 	C$motor.c$579$4_0$432 ==.
                                    483 ;	motor.c: 579: if(ui16_PWM_cycles_counter_total > 0)
      0000CF CEu01u40         [ 2]  484 	ldw	x, _ui16_PWM_cycles_counter_total+0
      0000D2 27 0D            [ 1]  485 	jreq	00110$
                           0000D4   486 	C$motor.c$581$5_0$433 ==.
                                    487 ;	motor.c: 581: ui16_motor_speed_erps = ((uint16_t) PWM_CYCLES_SECOND) / ui16_PWM_cycles_counter_total;
      0000D4 AE 3D 09         [ 2]  488 	ldw	x, #0x3d09
      0000D7 90 CEu01u40      [ 2]  489 	ldw	y, _ui16_PWM_cycles_counter_total+0
      0000DB 65               [ 2]  490 	divw	x, y
      0000DC CFu01u44         [ 2]  491 	ldw	_ui16_motor_speed_erps+0, x
      0000DF 20 06            [ 2]  492 	jra	00111$
      0000E1                        493 00110$:
                           0000E1   494 	C$motor.c$585$5_0$434 ==.
                                    495 ;	motor.c: 585: ui16_motor_speed_erps = ((uint16_t) PWM_CYCLES_SECOND);
      0000E1 AE 3D 09         [ 2]  496 	ldw	x, #0x3d09
      0000E4 CFu01u44         [ 2]  497 	ldw	_ui16_motor_speed_erps+0, x
      0000E7                        498 00111$:
                           0000E7   499 	C$motor.c$589$4_0$432 ==.
                                    500 ;	motor.c: 589: if(ui16_motor_speed_erps > MOTOR_ROTOR_ERPS_START_INTERPOLATION_60_DEGREES)
      0000E7 CEu01u44         [ 2]  501 	ldw	x, _ui16_motor_speed_erps+0
      0000EA A3 00 0A         [ 2]  502 	cpw	x, #0x000a
      0000ED 23 10            [ 2]  503 	jrule	00117$
                           0000EF   504 	C$motor.c$591$5_0$435 ==.
                                    505 ;	motor.c: 591: if(ui8_motor_commutation_type == BLOCK_COMMUTATION)
      0000EF C6u01u4D         [ 1]  506 	ld	a, _ui8_motor_commutation_type+0
      0000F2 4A               [ 1]  507 	dec	a
      0000F3 26 19            [ 1]  508 	jrne	00120$
                           0000F5   509 	C$motor.c$593$6_0$436 ==.
                                    510 ;	motor.c: 593: ui8_motor_commutation_type = SINEWAVE_INTERPOLATION_60_DEGREES;
      0000F5 35 02u01u4D      [ 1]  511 	mov	_ui8_motor_commutation_type+0, #0x02
                           0000F9   512 	C$motor.c$594$6_0$436 ==.
                                    513 ;	motor.c: 594: ui8_ebike_app_state = EBIKE_APP_STATE_MOTOR_RUNNING;
      0000F9 35 04u00u00      [ 1]  514 	mov	_ui8_ebike_app_state+0, #0x04
      0000FD 20 0F            [ 2]  515 	jra	00120$
      0000FF                        516 00117$:
                           0000FF   517 	C$motor.c$599$5_0$437 ==.
                                    518 ;	motor.c: 599: if(ui8_motor_commutation_type == SINEWAVE_INTERPOLATION_60_DEGREES)
      0000FF C6u01u4D         [ 1]  519 	ld	a, _ui8_motor_commutation_type+0
      000102 A1 02            [ 1]  520 	cp	a, #0x02
      000104 26 08            [ 1]  521 	jrne	00120$
                           000106   522 	C$motor.c$601$6_0$438 ==.
                                    523 ;	motor.c: 601: ui8_motor_commutation_type = BLOCK_COMMUTATION;
      000106 35 01u01u4D      [ 1]  524 	mov	_ui8_motor_commutation_type+0, #0x01
                           00010A   525 	C$motor.c$602$6_0$438 ==.
                                    526 ;	motor.c: 602: ui8_foc_angle = 0;
      00010A 72 5Fu01u49      [ 1]  527 	clr	_ui8_foc_angle+0
      00010E                        528 00120$:
                           00010E   529 	C$motor.c$607$3_0$431 ==.
                                    530 ;	motor.c: 607: ui8_motor_rotor_absolute_angle = (uint8_t) MOTOR_ROTOR_ANGLE_210;
      00010E 35 9Eu01u47      [ 1]  531 	mov	_ui8_motor_rotor_absolute_angle+0, #0x9e
                           000112   532 	C$motor.c$608$3_0$431 ==.
                                    533 ;	motor.c: 608: break;
      000112 20 1F            [ 2]  534 	jra	00126$
                           000114   535 	C$motor.c$610$3_0$431 ==.
                                    536 ;	motor.c: 610: case 5:
      000114                        537 00121$:
                           000114   538 	C$motor.c$611$3_0$431 ==.
                                    539 ;	motor.c: 611: ui8_motor_rotor_absolute_angle = (uint8_t) MOTOR_ROTOR_ANGLE_270;
      000114 35 C9u01u47      [ 1]  540 	mov	_ui8_motor_rotor_absolute_angle+0, #0xc9
                           000118   541 	C$motor.c$612$3_0$431 ==.
                                    542 ;	motor.c: 612: break;
      000118 20 19            [ 2]  543 	jra	00126$
                           00011A   544 	C$motor.c$614$3_0$431 ==.
                                    545 ;	motor.c: 614: case 4:
      00011A                        546 00122$:
                           00011A   547 	C$motor.c$615$3_0$431 ==.
                                    548 ;	motor.c: 615: ui8_motor_rotor_absolute_angle = (uint8_t) MOTOR_ROTOR_ANGLE_330;
      00011A 35 F3u01u47      [ 1]  549 	mov	_ui8_motor_rotor_absolute_angle+0, #0xf3
                           00011E   550 	C$motor.c$616$3_0$431 ==.
                                    551 ;	motor.c: 616: break;
      00011E 20 13            [ 2]  552 	jra	00126$
                           000120   553 	C$motor.c$618$3_0$431 ==.
                                    554 ;	motor.c: 618: case 6:
      000120                        555 00123$:
                           000120   556 	C$motor.c$619$3_0$431 ==.
                                    557 ;	motor.c: 619: ui8_half_erps_flag = 1;
      000120 35 01u01u51      [ 1]  558 	mov	_ui8_half_erps_flag+0, #0x01
                           000124   559 	C$motor.c$620$3_0$431 ==.
                                    560 ;	motor.c: 620: ui8_motor_rotor_absolute_angle = (uint8_t) MOTOR_ROTOR_ANGLE_30;
      000124 35 1Eu01u47      [ 1]  561 	mov	_ui8_motor_rotor_absolute_angle+0, #0x1e
                           000128   562 	C$motor.c$621$3_0$431 ==.
                                    563 ;	motor.c: 621: break;
      000128 20 09            [ 2]  564 	jra	00126$
                           00012A   565 	C$motor.c$626$3_0$431 ==.
                                    566 ;	motor.c: 626: case 2:
      00012A                        567 00124$:
                           00012A   568 	C$motor.c$627$3_0$431 ==.
                                    569 ;	motor.c: 627: ui8_motor_rotor_absolute_angle = (uint8_t) MOTOR_ROTOR_ANGLE_90;
      00012A 35 49u01u47      [ 1]  570 	mov	_ui8_motor_rotor_absolute_angle+0, #0x49
                           00012E   571 	C$motor.c$628$3_0$431 ==.
                                    572 ;	motor.c: 628: break;
      00012E 20 03            [ 2]  573 	jra	00126$
                           000130   574 	C$motor.c$630$3_0$431 ==.
                                    575 ;	motor.c: 630: default:
      000130                        576 00125$:
                           000130   577 	C$motor.c$631$3_0$431 ==.
                                    578 ;	motor.c: 631: return;
      000130 CCr05r77         [ 2]  579 	jp	00226$
                           000133   580 	C$motor.c$633$2_0$430 ==.
                                    581 ;	motor.c: 633: }
      000133                        582 00126$:
                           000133   583 	C$motor.c$635$2_0$430 ==.
                                    584 ;	motor.c: 635: ui16_PWM_cycles_counter_6 = 1;
      000133 AE 00 01         [ 2]  585 	ldw	x, #0x0001
      000136 CFu01u3E         [ 2]  586 	ldw	_ui16_PWM_cycles_counter_6+0, x
      000139                        587 00128$:
                           000139   588 	C$motor.c$640$1_0$427 ==.
                                    589 ;	motor.c: 640: if(ui16_PWM_cycles_counter < ((uint16_t) PWM_CYCLES_COUNTER_MAX))
      000139 CEu01u3C         [ 2]  590 	ldw	x, _ui16_PWM_cycles_counter+0
      00013C A3 0C 35         [ 2]  591 	cpw	x, #0x0c35
      00013F 24 10            [ 1]  592 	jrnc	00130$
                           000141   593 	C$motor.c$642$2_0$439 ==.
                                    594 ;	motor.c: 642: ui16_PWM_cycles_counter++;
      000141 CEu01u3C         [ 2]  595 	ldw	x, _ui16_PWM_cycles_counter+0
      000144 5C               [ 1]  596 	incw	x
      000145 CFu01u3C         [ 2]  597 	ldw	_ui16_PWM_cycles_counter+0, x
                           000148   598 	C$motor.c$643$2_0$439 ==.
                                    599 ;	motor.c: 643: ui16_PWM_cycles_counter_6++;
      000148 CEu01u3E         [ 2]  600 	ldw	x, _ui16_PWM_cycles_counter_6+0
      00014B 5C               [ 1]  601 	incw	x
      00014C CFu01u3E         [ 2]  602 	ldw	_ui16_PWM_cycles_counter_6+0, x
      00014F 20 26            [ 2]  603 	jra	00131$
      000151                        604 00130$:
                           000151   605 	C$motor.c$647$2_0$440 ==.
                                    606 ;	motor.c: 647: ui16_PWM_cycles_counter = 1; // don't put to 0 to avoid 0 divisions
      000151 AE 00 01         [ 2]  607 	ldw	x, #0x0001
      000154 CFu01u3C         [ 2]  608 	ldw	_ui16_PWM_cycles_counter+0, x
                           000157   609 	C$motor.c$648$2_0$440 ==.
                                    610 ;	motor.c: 648: ui16_PWM_cycles_counter_6 = 1;
      000157 AE 00 01         [ 2]  611 	ldw	x, #0x0001
      00015A CFu01u3E         [ 2]  612 	ldw	_ui16_PWM_cycles_counter_6+0, x
                           00015D   613 	C$motor.c$649$2_0$440 ==.
                                    614 ;	motor.c: 649: ui8_half_erps_flag = 0;
      00015D 72 5Fu01u51      [ 1]  615 	clr	_ui8_half_erps_flag+0
                           000161   616 	C$motor.c$650$2_0$440 ==.
                                    617 ;	motor.c: 650: ui16_motor_speed_erps = 0;
      000161 5F               [ 1]  618 	clrw	x
      000162 CFu01u44         [ 2]  619 	ldw	_ui16_motor_speed_erps+0, x
                           000165   620 	C$motor.c$651$2_0$440 ==.
                                    621 ;	motor.c: 651: ui16_PWM_cycles_counter_total = 0xFFFF;
      000165 AE FF FF         [ 2]  622 	ldw	x, #0xffff
      000168 CFu01u40         [ 2]  623 	ldw	_ui16_PWM_cycles_counter_total+0, x
                           00016B   624 	C$motor.c$652$2_0$440 ==.
                                    625 ;	motor.c: 652: ui8_foc_angle = 0;
      00016B 72 5Fu01u49      [ 1]  626 	clr	_ui8_foc_angle+0
                           00016F   627 	C$motor.c$653$2_0$440 ==.
                                    628 ;	motor.c: 653: ui8_motor_commutation_type = BLOCK_COMMUTATION;
      00016F 35 01u01u4D      [ 1]  629 	mov	_ui8_motor_commutation_type+0, #0x01
                           000173   630 	C$motor.c$654$2_0$440 ==.
                                    631 ;	motor.c: 654: ui8_hall_sensors_state_last = 0; // this way we force execution of hall sensors code next time
      000173 72 5Fu01u50      [ 1]  632 	clr	_ui8_hall_sensors_state_last+0
      000177                        633 00131$:
                           000177   634 	C$motor.c$663$1_0$427 ==.
                                    635 ;	motor.c: 663: if(ui8_motor_commutation_type == SINEWAVE_INTERPOLATION_60_DEGREES)
      000177 C6u01u4D         [ 1]  636 	ld	a, _ui8_motor_commutation_type+0
      00017A A1 02            [ 1]  637 	cp	a, #0x02
      00017C 26 23            [ 1]  638 	jrne	00133$
                           00017E   639 	C$motor.c$667$2_0$441 ==.
                                    640 ;	motor.c: 667: ui8_interpolation_angle = (ui16_PWM_cycles_counter_6 << 8) / ui16_PWM_cycles_counter_total; // this operations take 4.4us
      00017E C6u01u3F         [ 1]  641 	ld	a, _ui16_PWM_cycles_counter_6+1
      000181 95               [ 1]  642 	ld	xh, a
      000182 4F               [ 1]  643 	clr	a
      000183 97               [ 1]  644 	ld	xl, a
      000184 90 CEu01u40      [ 2]  645 	ldw	y, _ui16_PWM_cycles_counter_total+0
      000188 65               [ 2]  646 	divw	x, y
      000189 9F               [ 1]  647 	ld	a, xl
      00018A C7u01u4A         [ 1]  648 	ld	_ui8_interpolation_angle+0, a
                           00018D   649 	C$motor.c$668$2_0$441 ==.
                                    650 ;	motor.c: 668: ui8_motor_rotor_angle = ui8_motor_rotor_absolute_angle + ui8_interpolation_angle;
      00018D C6u01u47         [ 1]  651 	ld	a, _ui8_motor_rotor_absolute_angle+0
      000190 CBu01u4A         [ 1]  652 	add	a, _ui8_interpolation_angle+0
      000193 C7u01u48         [ 1]  653 	ld	_ui8_motor_rotor_angle+0, a
                           000196   654 	C$motor.c$669$2_0$441 ==.
                                    655 ;	motor.c: 669: ui8_svm_table_index = ui8_motor_rotor_angle + ui8_foc_angle;
      000196 C6u01u48         [ 1]  656 	ld	a, _ui8_motor_rotor_angle+0
      000199 CBu01u49         [ 1]  657 	add	a, _ui8_foc_angle+0
      00019C C7u01u46         [ 1]  658 	ld	_ui8_svm_table_index+0, a
      00019F 20 09            [ 2]  659 	jra	00134$
      0001A1                        660 00133$:
                           0001A1   661 	C$motor.c$674$2_0$442 ==.
                                    662 ;	motor.c: 674: ui8_svm_table_index = ui8_motor_rotor_absolute_angle + ui8_foc_angle;
      0001A1 C6u01u47         [ 1]  663 	ld	a, _ui8_motor_rotor_absolute_angle+0
      0001A4 CBu01u49         [ 1]  664 	add	a, _ui8_foc_angle+0
      0001A7 C7u01u46         [ 1]  665 	ld	_ui8_svm_table_index+0, a
      0001AA                        666 00134$:
                           0001AA   667 	C$motor.c$678$1_0$427 ==.
                                    668 ;	motor.c: 678: ui8_svm_table_index -= 63;
      0001AA C6u01u46         [ 1]  669 	ld	a, _ui8_svm_table_index+0
      0001AD A0 3F            [ 1]  670 	sub	a, #0x3f
      0001AF C7u01u46         [ 1]  671 	ld	_ui8_svm_table_index+0, a
                           0001B2   672 	C$motor.c$688$1_0$427 ==.
                                    673 ;	motor.c: 688: if(ui8_adc_battery_current > ui8_controller_adc_battery_max_current ||
      0001B2 C6u01u61         [ 1]  674 	ld	a, _ui8_controller_adc_battery_max_current+0
      0001B5 C1u01u70         [ 1]  675 	cp	a, _ui8_adc_battery_current+0
      0001B8 25 10            [ 1]  676 	jrc	00135$
                           0001BA   677 	C$motor.c$689$1_0$427 ==.
                                    678 ;	motor.c: 689: ui8_adc_motor_phase_current > ui8_adc_target_motor_phase_max_current ||
      0001BA C6u01u74         [ 1]  679 	ld	a, _ui8_adc_target_motor_phase_max_current+0
      0001BD C1u01u71         [ 1]  680 	cp	a, _ui8_adc_motor_phase_current+0
      0001C0 25 08            [ 1]  681 	jrc	00135$
                           0001C2   682 	C$motor.c$690$1_0$427 ==.
                                    683 ;	motor.c: 690: ui8_adc_motor_phase_current > ui8_controller_adc_motor_max_current)
      0001C2 C6u01u64         [ 1]  684 	ld	a, _ui8_controller_adc_motor_max_current+0
      0001C5 C1u01u71         [ 1]  685 	cp	a, _ui8_adc_motor_phase_current+0
      0001C8 24 06            [ 1]  686 	jrnc	00136$
      0001CA                        687 00135$:
                           0001CA   688 	C$motor.c$692$2_0$443 ==.
                                    689 ;	motor.c: 692: valuesAreTooHigh = 1;
      0001CA 35 01u00u03      [ 1]  690 	mov	_TIM1_CAP_COM_IRQHandler_valuesAreTooHigh_65536_427+0, #0x01
      0001CE 20 04            [ 2]  691 	jra	00137$
      0001D0                        692 00136$:
                           0001D0   693 	C$motor.c$694$2_0$444 ==.
                                    694 ;	motor.c: 694: valuesAreTooHigh = 0;
      0001D0 72 5Fu00u03      [ 1]  695 	clr	_TIM1_CAP_COM_IRQHandler_valuesAreTooHigh_65536_427+0
      0001D4                        696 00137$:
                           0001D4   697 	C$motor.c$699$1_0$427 ==.
                                    698 ;	motor.c: 699: if(++ui8_current_controller_counter > 12)
      0001D4 C6u01u72         [ 1]  699 	ld	a, _ui8_current_controller_counter+0
      0001D7 4C               [ 1]  700 	inc	a
      0001D8 C7u01u72         [ 1]  701 	ld	_ui8_current_controller_counter+0, a
      0001DB A1 0C            [ 1]  702 	cp	a, #0x0c
      0001DD 23 1D            [ 2]  703 	jrule	00165$
                           0001DF   704 	C$motor.c$702$2_0$445 ==.
                                    705 ;	motor.c: 702: ui8_current_controller_counter = 0;
      0001DF 72 5Fu01u72      [ 1]  706 	clr	_ui8_current_controller_counter+0
                           0001E3   707 	C$motor.c$705$2_0$445 ==.
                                    708 ;	motor.c: 705: if(valuesAreTooHigh)
      0001E3 72 5Du00u03      [ 1]  709 	tnz	_TIM1_CAP_COM_IRQHandler_valuesAreTooHigh_65536_427+0
      0001E7 26 03            [ 1]  710 	jrne	00450$
      0001E9 CCr02r71         [ 2]  711 	jp	00166$
      0001EC                        712 00450$:
                           0001EC   713 	C$motor.c$707$3_0$446 ==.
                                    714 ;	motor.c: 707: if(ui8_duty_cycle > 0)
      0001EC 72 5Du01u52      [ 1]  715 	tnz	_ui8_duty_cycle+0
      0001F0 26 03            [ 1]  716 	jrne	00451$
      0001F2 CCr02r71         [ 2]  717 	jp	00166$
      0001F5                        718 00451$:
                           0001F5   719 	C$motor.c$710$4_0$447 ==.
                                    720 ;	motor.c: 710: ui8_duty_cycle--;
      0001F5 72 5Au01u52      [ 1]  721 	dec	_ui8_duty_cycle+0
      0001F9 CCr02r71         [ 2]  722 	jp	00166$
      0001FC                        723 00165$:
                           0001FC   724 	C$motor.c$714$1_0$427 ==.
                                    725 ;	motor.c: 714: else if(UI8_ADC_BATTERY_VOLTAGE < ui8_adc_battery_voltage_cut_off) // battery voltage under min voltage, reduce duty_cycle
      0001FC C6 53 EC         [ 1]  726 	ld	a, 0x53ec
      0001FF C1u01u66         [ 1]  727 	cp	a, _ui8_adc_battery_voltage_cut_off+0
      000202 24 10            [ 1]  728 	jrnc	00162$
                           000204   729 	C$motor.c$716$2_0$448 ==.
                                    730 ;	motor.c: 716: if (ui8_duty_cycle > 0)
      000204 72 5Du01u52      [ 1]  731 	tnz	_ui8_duty_cycle+0
      000208 26 03            [ 1]  732 	jrne	00453$
      00020A CCr02r71         [ 2]  733 	jp	00166$
      00020D                        734 00453$:
                           00020D   735 	C$motor.c$719$3_0$449 ==.
                                    736 ;	motor.c: 719: ui8_duty_cycle--;
      00020D 72 5Au01u52      [ 1]  737 	dec	_ui8_duty_cycle+0
      000211 CCr02r71         [ 2]  738 	jp	00166$
      000214                        739 00162$:
                           000214   740 	C$motor.c$722$1_0$427 ==.
                                    741 ;	motor.c: 722: else if((ui16_motor_speed_erps > ui16_max_motor_speed_erps)) // if motor speed over max motor ERPS, reduce duty_cycle
      000214 CEu01u42         [ 2]  742 	ldw	x, _ui16_max_motor_speed_erps+0
      000217 C3u01u44         [ 2]  743 	cpw	x, _ui16_motor_speed_erps+0
      00021A 24 0F            [ 1]  744 	jrnc	00159$
                           00021C   745 	C$motor.c$724$2_0$450 ==.
                                    746 ;	motor.c: 724: if (ui8_duty_cycle > 0)
      00021C 72 5Du01u52      [ 1]  747 	tnz	_ui8_duty_cycle+0
      000220 26 03            [ 1]  748 	jrne	00455$
      000222 CCr02r71         [ 2]  749 	jp	00166$
      000225                        750 00455$:
                           000225   751 	C$motor.c$727$3_0$451 ==.
                                    752 ;	motor.c: 727: ui8_duty_cycle--;
      000225 72 5Au01u52      [ 1]  753 	dec	_ui8_duty_cycle+0
      000229 20 46            [ 2]  754 	jra	00166$
      00022B                        755 00159$:
                           00022B   756 	C$motor.c$732$2_0$452 ==.
                                    757 ;	motor.c: 732: if(ui8_duty_cycle_target > ui8_duty_cycle &&
      00022B C6u01u52         [ 1]  758 	ld	a, _ui8_duty_cycle+0
      00022E C1u01u53         [ 1]  759 	cp	a, _ui8_duty_cycle_target+0
      000231 24 1F            [ 1]  760 	jrnc	00155$
                           000233   761 	C$motor.c$733$2_0$452 ==.
                                    762 ;	motor.c: 733: !valuesAreTooHigh)
      000233 72 5Du00u03      [ 1]  763 	tnz	_TIM1_CAP_COM_IRQHandler_valuesAreTooHigh_65536_427+0
      000237 26 19            [ 1]  764 	jrne	00155$
                           000239   765 	C$motor.c$735$3_0$453 ==.
                                    766 ;	motor.c: 735: if(ui16_counter_duty_cycle_ramp_up++ >= ui16_duty_cycle_ramp_up_inverse_step)
      000239 90 CEu01u58      [ 2]  767 	ldw	y, _ui16_counter_duty_cycle_ramp_up+0
      00023D 93               [ 1]  768 	ldw	x, y
      00023E 5C               [ 1]  769 	incw	x
      00023F CFu01u58         [ 2]  770 	ldw	_ui16_counter_duty_cycle_ramp_up+0, x
      000242 90 C3u01u54      [ 2]  771 	cpw	y, _ui16_duty_cycle_ramp_up_inverse_step+0
      000246 25 29            [ 1]  772 	jrc	00166$
                           000248   773 	C$motor.c$737$4_0$454 ==.
                                    774 ;	motor.c: 737: ui16_counter_duty_cycle_ramp_up = 0;
      000248 5F               [ 1]  775 	clrw	x
      000249 CFu01u58         [ 2]  776 	ldw	_ui16_counter_duty_cycle_ramp_up+0, x
                           00024C   777 	C$motor.c$740$4_0$454 ==.
                                    778 ;	motor.c: 740: ui8_duty_cycle++;
      00024C 72 5Cu01u52      [ 1]  779 	inc	_ui8_duty_cycle+0
      000250 20 1F            [ 2]  780 	jra	00166$
      000252                        781 00155$:
                           000252   782 	C$motor.c$743$2_0$452 ==.
                                    783 ;	motor.c: 743: else if(ui8_duty_cycle_target < ui8_duty_cycle)
      000252 C6u01u52         [ 1]  784 	ld	a, _ui8_duty_cycle+0
      000255 C1u01u53         [ 1]  785 	cp	a, _ui8_duty_cycle_target+0
      000258 23 17            [ 2]  786 	jrule	00166$
                           00025A   787 	C$motor.c$745$3_0$455 ==.
                                    788 ;	motor.c: 745: if(ui16_counter_duty_cycle_ramp_down++ >= ui16_duty_cycle_ramp_down_inverse_step)
      00025A 90 CEu01u5A      [ 2]  789 	ldw	y, _ui16_counter_duty_cycle_ramp_down+0
      00025E 93               [ 1]  790 	ldw	x, y
      00025F 5C               [ 1]  791 	incw	x
      000260 CFu01u5A         [ 2]  792 	ldw	_ui16_counter_duty_cycle_ramp_down+0, x
      000263 90 C3u01u56      [ 2]  793 	cpw	y, _ui16_duty_cycle_ramp_down_inverse_step+0
      000267 25 08            [ 1]  794 	jrc	00166$
                           000269   795 	C$motor.c$747$4_0$456 ==.
                                    796 ;	motor.c: 747: ui16_counter_duty_cycle_ramp_down = 0;
      000269 5F               [ 1]  797 	clrw	x
      00026A CFu01u5A         [ 2]  798 	ldw	_ui16_counter_duty_cycle_ramp_down+0, x
                           00026D   799 	C$motor.c$750$4_0$456 ==.
                                    800 ;	motor.c: 750: ui8_duty_cycle--;
      00026D 72 5Au01u52      [ 1]  801 	dec	_ui8_duty_cycle+0
      000271                        802 00166$:
                           000271   803 	C$motor.c$760$1_0$427 ==.
                                    804 ;	motor.c: 760: ui8_temp = ui8_svm_table[(uint8_t) (ui8_svm_table_index + 171 /* 240 */)];
      000271 C6u01u46         [ 1]  805 	ld	a, _ui8_svm_table_index+0
      000274 AB AB            [ 1]  806 	add	a, #0xab
      000276 5F               [ 1]  807 	clrw	x
      000277 97               [ 1]  808 	ld	xl, a
      000278 1Cr00r00         [ 2]  809 	addw	x, #(_ui8_svm_table + 0)
      00027B F6               [ 1]  810 	ld	a, (x)
      00027C C7u00u02         [ 1]  811 	ld	_TIM1_CAP_COM_IRQHandler_ui8_temp_65536_427+0, a
                           00027F   812 	C$motor.c$761$1_0$427 ==.
                                    813 ;	motor.c: 761: if(ui8_temp > MIDDLE_PWM_DUTY_CYCLE_MAX)
      00027F C6u00u02         [ 1]  814 	ld	a, _TIM1_CAP_COM_IRQHandler_ui8_temp_65536_427+0
      000282 A1 7F            [ 1]  815 	cp	a, #0x7f
      000284 23 2F            [ 2]  816 	jrule	00168$
                           000286   817 	C$motor.c$763$2_0$457 ==.
                                    818 ;	motor.c: 763: ui16_value = ((uint16_t) (ui8_temp - MIDDLE_PWM_DUTY_CYCLE_MAX)) * ui8_duty_cycle;
      000286 5F               [ 1]  819 	clrw	x
      000287 C6u00u02         [ 1]  820 	ld	a, _TIM1_CAP_COM_IRQHandler_ui8_temp_65536_427+0
      00028A 97               [ 1]  821 	ld	xl, a
      00028B 1D 00 7F         [ 2]  822 	subw	x, #0x007f
      00028E 51               [ 1]  823 	exgw	x, y
      00028F 5F               [ 1]  824 	clrw	x
      000290 C6u01u52         [ 1]  825 	ld	a, _ui8_duty_cycle+0
      000293 97               [ 1]  826 	ld	xl, a
      000294 89               [ 2]  827 	pushw	x
      000295 90 89            [ 2]  828 	pushw	y
      000297 CDr00r00         [ 4]  829 	call	__mulint
      00029A 5B 04            [ 2]  830 	addw	sp, #4
      00029C CFu00u00         [ 2]  831 	ldw	_ui16_value+0, x
                           00029F   832 	C$motor.c$764$2_0$457 ==.
                                    833 ;	motor.c: 764: ui8_temp = (uint8_t) (ui16_value >> 8);
      00029F C6u00u00         [ 1]  834 	ld	a, _ui16_value+0
      0002A2 6B 02            [ 1]  835 	ld	(0x02, sp), a
      0002A4 0F 01            [ 1]  836 	clr	(0x01, sp)
      0002A6 7B 02            [ 1]  837 	ld	a, (0x02, sp)
      0002A8 C7u00u02         [ 1]  838 	ld	_TIM1_CAP_COM_IRQHandler_ui8_temp_65536_427+0, a
                           0002AB   839 	C$motor.c$765$2_0$457 ==.
                                    840 ;	motor.c: 765: ui8_phase_a_voltage = MIDDLE_PWM_DUTY_CYCLE_MAX + ui8_temp;
      0002AB C6u00u02         [ 1]  841 	ld	a, _TIM1_CAP_COM_IRQHandler_ui8_temp_65536_427+0
      0002AE AB 7F            [ 1]  842 	add	a, #0x7f
      0002B0 C7u01u5C         [ 1]  843 	ld	_ui8_phase_a_voltage+0, a
      0002B3 20 32            [ 2]  844 	jra	00169$
      0002B5                        845 00168$:
                           0002B5   846 	C$motor.c$769$2_0$458 ==.
                                    847 ;	motor.c: 769: ui16_value = ((uint16_t) (MIDDLE_PWM_DUTY_CYCLE_MAX - ui8_temp)) * ui8_duty_cycle;
      0002B5 C6u00u02         [ 1]  848 	ld	a, _TIM1_CAP_COM_IRQHandler_ui8_temp_65536_427+0
      0002B8 6B 02            [ 1]  849 	ld	(0x02, sp), a
      0002BA 0F 01            [ 1]  850 	clr	(0x01, sp)
      0002BC 90 AE 00 7F      [ 2]  851 	ldw	y, #0x007f
      0002C0 72 F2 01         [ 2]  852 	subw	y, (0x01, sp)
      0002C3 5F               [ 1]  853 	clrw	x
      0002C4 C6u01u52         [ 1]  854 	ld	a, _ui8_duty_cycle+0
      0002C7 97               [ 1]  855 	ld	xl, a
      0002C8 89               [ 2]  856 	pushw	x
      0002C9 90 89            [ 2]  857 	pushw	y
      0002CB CDr00r00         [ 4]  858 	call	__mulint
      0002CE 5B 04            [ 2]  859 	addw	sp, #4
      0002D0 CFu00u00         [ 2]  860 	ldw	_ui16_value+0, x
                           0002D3   861 	C$motor.c$770$2_0$458 ==.
                                    862 ;	motor.c: 770: ui8_temp = (uint8_t) (ui16_value >> 8);
      0002D3 C6u00u00         [ 1]  863 	ld	a, _ui16_value+0
      0002D6 6B 02            [ 1]  864 	ld	(0x02, sp), a
      0002D8 0F 01            [ 1]  865 	clr	(0x01, sp)
      0002DA 7B 02            [ 1]  866 	ld	a, (0x02, sp)
      0002DC C7u00u02         [ 1]  867 	ld	_TIM1_CAP_COM_IRQHandler_ui8_temp_65536_427+0, a
                           0002DF   868 	C$motor.c$771$2_0$458 ==.
                                    869 ;	motor.c: 771: ui8_phase_a_voltage = MIDDLE_PWM_DUTY_CYCLE_MAX - ui8_temp;
      0002DF A6 7F            [ 1]  870 	ld	a, #0x7f
      0002E1 C0u00u02         [ 1]  871 	sub	a, _TIM1_CAP_COM_IRQHandler_ui8_temp_65536_427+0
      0002E4 C7u01u5C         [ 1]  872 	ld	_ui8_phase_a_voltage+0, a
      0002E7                        873 00169$:
                           0002E7   874 	C$motor.c$775$1_0$427 ==.
                                    875 ;	motor.c: 775: ui8_temp = ui8_svm_table[ui8_svm_table_index];
      0002E7 5F               [ 1]  876 	clrw	x
      0002E8 C6u01u46         [ 1]  877 	ld	a, _ui8_svm_table_index+0
      0002EB 97               [ 1]  878 	ld	xl, a
      0002EC 1Cr00r00         [ 2]  879 	addw	x, #(_ui8_svm_table + 0)
      0002EF F6               [ 1]  880 	ld	a, (x)
      0002F0 C7u00u02         [ 1]  881 	ld	_TIM1_CAP_COM_IRQHandler_ui8_temp_65536_427+0, a
                           0002F3   882 	C$motor.c$776$1_0$427 ==.
                                    883 ;	motor.c: 776: if(ui8_temp > MIDDLE_PWM_DUTY_CYCLE_MAX)
      0002F3 C6u00u02         [ 1]  884 	ld	a, _TIM1_CAP_COM_IRQHandler_ui8_temp_65536_427+0
      0002F6 A1 7F            [ 1]  885 	cp	a, #0x7f
      0002F8 23 2F            [ 2]  886 	jrule	00171$
                           0002FA   887 	C$motor.c$778$2_0$459 ==.
                                    888 ;	motor.c: 778: ui16_value = ((uint16_t) (ui8_temp - MIDDLE_PWM_DUTY_CYCLE_MAX)) * ui8_duty_cycle;
      0002FA 5F               [ 1]  889 	clrw	x
      0002FB C6u00u02         [ 1]  890 	ld	a, _TIM1_CAP_COM_IRQHandler_ui8_temp_65536_427+0
      0002FE 97               [ 1]  891 	ld	xl, a
      0002FF 1D 00 7F         [ 2]  892 	subw	x, #0x007f
      000302 51               [ 1]  893 	exgw	x, y
      000303 5F               [ 1]  894 	clrw	x
      000304 C6u01u52         [ 1]  895 	ld	a, _ui8_duty_cycle+0
      000307 97               [ 1]  896 	ld	xl, a
      000308 89               [ 2]  897 	pushw	x
      000309 90 89            [ 2]  898 	pushw	y
      00030B CDr00r00         [ 4]  899 	call	__mulint
      00030E 5B 04            [ 2]  900 	addw	sp, #4
      000310 CFu00u00         [ 2]  901 	ldw	_ui16_value+0, x
                           000313   902 	C$motor.c$779$2_0$459 ==.
                                    903 ;	motor.c: 779: ui8_temp = (uint8_t) (ui16_value >> 8);
      000313 C6u00u00         [ 1]  904 	ld	a, _ui16_value+0
      000316 6B 02            [ 1]  905 	ld	(0x02, sp), a
      000318 0F 01            [ 1]  906 	clr	(0x01, sp)
      00031A 7B 02            [ 1]  907 	ld	a, (0x02, sp)
      00031C C7u00u02         [ 1]  908 	ld	_TIM1_CAP_COM_IRQHandler_ui8_temp_65536_427+0, a
                           00031F   909 	C$motor.c$780$2_0$459 ==.
                                    910 ;	motor.c: 780: ui8_phase_b_voltage = MIDDLE_PWM_DUTY_CYCLE_MAX + ui8_temp;
      00031F C6u00u02         [ 1]  911 	ld	a, _TIM1_CAP_COM_IRQHandler_ui8_temp_65536_427+0
      000322 AB 7F            [ 1]  912 	add	a, #0x7f
      000324 C7u01u5D         [ 1]  913 	ld	_ui8_phase_b_voltage+0, a
      000327 20 32            [ 2]  914 	jra	00172$
      000329                        915 00171$:
                           000329   916 	C$motor.c$784$2_0$460 ==.
                                    917 ;	motor.c: 784: ui16_value = ((uint16_t) (MIDDLE_PWM_DUTY_CYCLE_MAX - ui8_temp)) * ui8_duty_cycle;
      000329 C6u00u02         [ 1]  918 	ld	a, _TIM1_CAP_COM_IRQHandler_ui8_temp_65536_427+0
      00032C 6B 02            [ 1]  919 	ld	(0x02, sp), a
      00032E 0F 01            [ 1]  920 	clr	(0x01, sp)
      000330 90 AE 00 7F      [ 2]  921 	ldw	y, #0x007f
      000334 72 F2 01         [ 2]  922 	subw	y, (0x01, sp)
      000337 5F               [ 1]  923 	clrw	x
      000338 C6u01u52         [ 1]  924 	ld	a, _ui8_duty_cycle+0
      00033B 97               [ 1]  925 	ld	xl, a
      00033C 89               [ 2]  926 	pushw	x
      00033D 90 89            [ 2]  927 	pushw	y
      00033F CDr00r00         [ 4]  928 	call	__mulint
      000342 5B 04            [ 2]  929 	addw	sp, #4
      000344 CFu00u00         [ 2]  930 	ldw	_ui16_value+0, x
                           000347   931 	C$motor.c$785$2_0$460 ==.
                                    932 ;	motor.c: 785: ui8_temp = (uint8_t) (ui16_value >> 8);
      000347 C6u00u00         [ 1]  933 	ld	a, _ui16_value+0
      00034A 6B 02            [ 1]  934 	ld	(0x02, sp), a
      00034C 0F 01            [ 1]  935 	clr	(0x01, sp)
      00034E 7B 02            [ 1]  936 	ld	a, (0x02, sp)
      000350 C7u00u02         [ 1]  937 	ld	_TIM1_CAP_COM_IRQHandler_ui8_temp_65536_427+0, a
                           000353   938 	C$motor.c$786$2_0$460 ==.
                                    939 ;	motor.c: 786: ui8_phase_b_voltage = MIDDLE_PWM_DUTY_CYCLE_MAX - ui8_temp;
      000353 A6 7F            [ 1]  940 	ld	a, #0x7f
      000355 C0u00u02         [ 1]  941 	sub	a, _TIM1_CAP_COM_IRQHandler_ui8_temp_65536_427+0
      000358 C7u01u5D         [ 1]  942 	ld	_ui8_phase_b_voltage+0, a
      00035B                        943 00172$:
                           00035B   944 	C$motor.c$790$1_0$427 ==.
                                    945 ;	motor.c: 790: ui8_temp = ui8_svm_table[(uint8_t) (ui8_svm_table_index + 85 /* 120 */)];
      00035B C6u01u46         [ 1]  946 	ld	a, _ui8_svm_table_index+0
      00035E AB 55            [ 1]  947 	add	a, #0x55
      000360 5F               [ 1]  948 	clrw	x
      000361 97               [ 1]  949 	ld	xl, a
      000362 1Cr00r00         [ 2]  950 	addw	x, #(_ui8_svm_table + 0)
      000365 F6               [ 1]  951 	ld	a, (x)
      000366 C7u00u02         [ 1]  952 	ld	_TIM1_CAP_COM_IRQHandler_ui8_temp_65536_427+0, a
                           000369   953 	C$motor.c$791$1_0$427 ==.
                                    954 ;	motor.c: 791: if(ui8_temp > MIDDLE_PWM_DUTY_CYCLE_MAX)
      000369 C6u00u02         [ 1]  955 	ld	a, _TIM1_CAP_COM_IRQHandler_ui8_temp_65536_427+0
      00036C A1 7F            [ 1]  956 	cp	a, #0x7f
      00036E 23 2F            [ 2]  957 	jrule	00174$
                           000370   958 	C$motor.c$793$2_0$461 ==.
                                    959 ;	motor.c: 793: ui16_value = ((uint16_t) (ui8_temp - MIDDLE_PWM_DUTY_CYCLE_MAX)) * ui8_duty_cycle;
      000370 5F               [ 1]  960 	clrw	x
      000371 C6u00u02         [ 1]  961 	ld	a, _TIM1_CAP_COM_IRQHandler_ui8_temp_65536_427+0
      000374 97               [ 1]  962 	ld	xl, a
      000375 1D 00 7F         [ 2]  963 	subw	x, #0x007f
      000378 51               [ 1]  964 	exgw	x, y
      000379 5F               [ 1]  965 	clrw	x
      00037A C6u01u52         [ 1]  966 	ld	a, _ui8_duty_cycle+0
      00037D 97               [ 1]  967 	ld	xl, a
      00037E 89               [ 2]  968 	pushw	x
      00037F 90 89            [ 2]  969 	pushw	y
      000381 CDr00r00         [ 4]  970 	call	__mulint
      000384 5B 04            [ 2]  971 	addw	sp, #4
      000386 CFu00u00         [ 2]  972 	ldw	_ui16_value+0, x
                           000389   973 	C$motor.c$794$2_0$461 ==.
                                    974 ;	motor.c: 794: ui8_temp = (uint8_t) (ui16_value >> 8);
      000389 C6u00u00         [ 1]  975 	ld	a, _ui16_value+0
      00038C 6B 02            [ 1]  976 	ld	(0x02, sp), a
      00038E 0F 01            [ 1]  977 	clr	(0x01, sp)
      000390 7B 02            [ 1]  978 	ld	a, (0x02, sp)
      000392 C7u00u02         [ 1]  979 	ld	_TIM1_CAP_COM_IRQHandler_ui8_temp_65536_427+0, a
                           000395   980 	C$motor.c$795$2_0$461 ==.
                                    981 ;	motor.c: 795: ui8_phase_c_voltage = MIDDLE_PWM_DUTY_CYCLE_MAX + ui8_temp;
      000395 C6u00u02         [ 1]  982 	ld	a, _TIM1_CAP_COM_IRQHandler_ui8_temp_65536_427+0
      000398 AB 7F            [ 1]  983 	add	a, #0x7f
      00039A C7u01u5E         [ 1]  984 	ld	_ui8_phase_c_voltage+0, a
      00039D 20 32            [ 2]  985 	jra	00175$
      00039F                        986 00174$:
                           00039F   987 	C$motor.c$799$2_0$462 ==.
                                    988 ;	motor.c: 799: ui16_value = ((uint16_t) (MIDDLE_PWM_DUTY_CYCLE_MAX - ui8_temp)) * ui8_duty_cycle;
      00039F C6u00u02         [ 1]  989 	ld	a, _TIM1_CAP_COM_IRQHandler_ui8_temp_65536_427+0
      0003A2 6B 02            [ 1]  990 	ld	(0x02, sp), a
      0003A4 0F 01            [ 1]  991 	clr	(0x01, sp)
      0003A6 90 AE 00 7F      [ 2]  992 	ldw	y, #0x007f
      0003AA 72 F2 01         [ 2]  993 	subw	y, (0x01, sp)
      0003AD 5F               [ 1]  994 	clrw	x
      0003AE C6u01u52         [ 1]  995 	ld	a, _ui8_duty_cycle+0
      0003B1 97               [ 1]  996 	ld	xl, a
      0003B2 89               [ 2]  997 	pushw	x
      0003B3 90 89            [ 2]  998 	pushw	y
      0003B5 CDr00r00         [ 4]  999 	call	__mulint
      0003B8 5B 04            [ 2] 1000 	addw	sp, #4
      0003BA CFu00u00         [ 2] 1001 	ldw	_ui16_value+0, x
                           0003BD  1002 	C$motor.c$800$2_0$462 ==.
                                   1003 ;	motor.c: 800: ui8_temp = (uint8_t) (ui16_value >> 8);
      0003BD C6u00u00         [ 1] 1004 	ld	a, _ui16_value+0
      0003C0 6B 02            [ 1] 1005 	ld	(0x02, sp), a
      0003C2 0F 01            [ 1] 1006 	clr	(0x01, sp)
      0003C4 7B 02            [ 1] 1007 	ld	a, (0x02, sp)
      0003C6 C7u00u02         [ 1] 1008 	ld	_TIM1_CAP_COM_IRQHandler_ui8_temp_65536_427+0, a
                           0003C9  1009 	C$motor.c$801$2_0$462 ==.
                                   1010 ;	motor.c: 801: ui8_phase_c_voltage = MIDDLE_PWM_DUTY_CYCLE_MAX - ui8_temp;
      0003C9 A6 7F            [ 1] 1011 	ld	a, #0x7f
      0003CB C0u00u02         [ 1] 1012 	sub	a, _TIM1_CAP_COM_IRQHandler_ui8_temp_65536_427+0
      0003CE C7u01u5E         [ 1] 1013 	ld	_ui8_phase_c_voltage+0, a
      0003D1                       1014 00175$:
                           0003D1  1015 	C$motor.c$806$1_0$427 ==.
                                   1016 ;	motor.c: 806: TIM1->CCR3H = (uint8_t) (ui8_phase_b_voltage >> 7);
      0003D1 C6u01u5D         [ 1] 1017 	ld	a, _ui8_phase_b_voltage+0
      0003D4 4E               [ 1] 1018 	swap	a
      0003D5 A4 0F            [ 1] 1019 	and	a, #0x0f
      0003D7 44               [ 1] 1020 	srl	a
      0003D8 44               [ 1] 1021 	srl	a
      0003D9 44               [ 1] 1022 	srl	a
      0003DA C7 52 69         [ 1] 1023 	ld	0x5269, a
                           0003DD  1024 	C$motor.c$807$1_0$427 ==.
                                   1025 ;	motor.c: 807: TIM1->CCR3L = (uint8_t) (ui8_phase_b_voltage << 1);
      0003DD C6u01u5D         [ 1] 1026 	ld	a, _ui8_phase_b_voltage+0
      0003E0 48               [ 1] 1027 	sll	a
      0003E1 C7 52 6A         [ 1] 1028 	ld	0x526a, a
                           0003E4  1029 	C$motor.c$809$1_0$427 ==.
                                   1030 ;	motor.c: 809: TIM1->CCR2H = (uint8_t) (ui8_phase_c_voltage >> 7);
      0003E4 C6u01u5E         [ 1] 1031 	ld	a, _ui8_phase_c_voltage+0
      0003E7 4E               [ 1] 1032 	swap	a
      0003E8 A4 0F            [ 1] 1033 	and	a, #0x0f
      0003EA 44               [ 1] 1034 	srl	a
      0003EB 44               [ 1] 1035 	srl	a
      0003EC 44               [ 1] 1036 	srl	a
      0003ED C7 52 67         [ 1] 1037 	ld	0x5267, a
                           0003F0  1038 	C$motor.c$810$1_0$427 ==.
                                   1039 ;	motor.c: 810: TIM1->CCR2L = (uint8_t) (ui8_phase_c_voltage << 1);
      0003F0 C6u01u5E         [ 1] 1040 	ld	a, _ui8_phase_c_voltage+0
      0003F3 48               [ 1] 1041 	sll	a
      0003F4 C7 52 68         [ 1] 1042 	ld	0x5268, a
                           0003F7  1043 	C$motor.c$812$1_0$427 ==.
                                   1044 ;	motor.c: 812: TIM1->CCR1H = (uint8_t) (ui8_phase_a_voltage >> 7);
      0003F7 C6u01u5C         [ 1] 1045 	ld	a, _ui8_phase_a_voltage+0
      0003FA 4E               [ 1] 1046 	swap	a
      0003FB A4 0F            [ 1] 1047 	and	a, #0x0f
      0003FD 44               [ 1] 1048 	srl	a
      0003FE 44               [ 1] 1049 	srl	a
      0003FF 44               [ 1] 1050 	srl	a
      000400 C7 52 65         [ 1] 1051 	ld	0x5265, a
                           000403  1052 	C$motor.c$813$1_0$427 ==.
                                   1053 ;	motor.c: 813: TIM1->CCR1L = (uint8_t) (ui8_phase_a_voltage << 1);
      000403 C6u01u5C         [ 1] 1054 	ld	a, _ui8_phase_a_voltage+0
      000406 48               [ 1] 1055 	sll	a
      000407 C7 52 66         [ 1] 1056 	ld	0x5266, a
                           00040A  1057 	C$motor.c$817$1_0$427 ==.
                                   1058 ;	motor.c: 817: if(ui8_adc_target_battery_max_current > ui8_controller_adc_battery_max_current)
      00040A C6u01u61         [ 1] 1059 	ld	a, _ui8_controller_adc_battery_max_current+0
      00040D C1u00u00         [ 1] 1060 	cp	a, _ui8_adc_target_battery_max_current+0
      000410 24 19            [ 1] 1061 	jrnc	00181$
                           000412  1062 	C$motor.c$819$2_0$463 ==.
                                   1063 ;	motor.c: 819: if(ui16_counter_adc_battery_current_ramp_up++ >= ADC_BATTERY_CURRENT_RAMP_UP_INVERSE_STEP)
      000412 90 CEu01u5F      [ 2] 1064 	ldw	y, _ui16_counter_adc_battery_current_ramp_up+0
      000416 93               [ 1] 1065 	ldw	x, y
      000417 5C               [ 1] 1066 	incw	x
      000418 CFu01u5F         [ 2] 1067 	ldw	_ui16_counter_adc_battery_current_ramp_up+0, x
      00041B 90 A3 07 A1      [ 2] 1068 	cpw	y, #0x07a1
      00041F 25 17            [ 1] 1069 	jrc	00182$
                           000421  1070 	C$motor.c$822$3_0$464 ==.
                                   1071 ;	motor.c: 822: ui16_counter_adc_battery_current_ramp_up = 0;
      000421 5F               [ 1] 1072 	clrw	x
      000422 CFu01u5F         [ 2] 1073 	ldw	_ui16_counter_adc_battery_current_ramp_up+0, x
                           000425  1074 	C$motor.c$824$3_0$464 ==.
                                   1075 ;	motor.c: 824: ui8_controller_adc_battery_max_current++;
      000425 72 5Cu01u61      [ 1] 1076 	inc	_ui8_controller_adc_battery_max_current+0
      000429 20 0D            [ 2] 1077 	jra	00182$
      00042B                       1078 00181$:
                           00042B  1079 	C$motor.c$827$1_0$427 ==.
                                   1080 ;	motor.c: 827: else if(ui8_adc_target_battery_max_current < ui8_controller_adc_battery_max_current)
      00042B C6u01u61         [ 1] 1081 	ld	a, _ui8_controller_adc_battery_max_current+0
      00042E C1u00u00         [ 1] 1082 	cp	a, _ui8_adc_target_battery_max_current+0
      000431 23 05            [ 2] 1083 	jrule	00182$
                           000433  1084 	C$motor.c$830$2_0$465 ==.
                                   1085 ;	motor.c: 830: ui8_controller_adc_battery_max_current = ui8_adc_target_battery_max_current;
      000433 55u00u00u01u61   [ 1] 1086 	mov	_ui8_controller_adc_battery_max_current+0, _ui8_adc_target_battery_max_current+0
      000438                       1087 00182$:
                           000438  1088 	C$motor.c$834$1_0$427 ==.
                                   1089 ;	motor.c: 834: if(ui8_adc_target_motor_max_current > ui8_controller_adc_motor_max_current)
      000438 C6u01u64         [ 1] 1090 	ld	a, _ui8_controller_adc_motor_max_current+0
      00043B C1u00u00         [ 1] 1091 	cp	a, _ui8_adc_target_motor_max_current+0
      00043E 24 19            [ 1] 1092 	jrnc	00188$
                           000440  1093 	C$motor.c$836$2_0$466 ==.
                                   1094 ;	motor.c: 836: if(ui16_counter_adc_motor_current_ramp_up++ >= ADC_BATTERY_CURRENT_RAMP_UP_INVERSE_STEP)
      000440 90 CEu01u62      [ 2] 1095 	ldw	y, _ui16_counter_adc_motor_current_ramp_up+0
      000444 93               [ 1] 1096 	ldw	x, y
      000445 5C               [ 1] 1097 	incw	x
      000446 CFu01u62         [ 2] 1098 	ldw	_ui16_counter_adc_motor_current_ramp_up+0, x
      000449 90 A3 07 A1      [ 2] 1099 	cpw	y, #0x07a1
      00044D 25 17            [ 1] 1100 	jrc	00189$
                           00044F  1101 	C$motor.c$839$3_0$467 ==.
                                   1102 ;	motor.c: 839: ui16_counter_adc_motor_current_ramp_up = 0;
      00044F 5F               [ 1] 1103 	clrw	x
      000450 CFu01u62         [ 2] 1104 	ldw	_ui16_counter_adc_motor_current_ramp_up+0, x
                           000453  1105 	C$motor.c$841$3_0$467 ==.
                                   1106 ;	motor.c: 841: ui8_controller_adc_motor_max_current++;
      000453 72 5Cu01u64      [ 1] 1107 	inc	_ui8_controller_adc_motor_max_current+0
      000457 20 0D            [ 2] 1108 	jra	00189$
      000459                       1109 00188$:
                           000459  1110 	C$motor.c$844$1_0$427 ==.
                                   1111 ;	motor.c: 844: else if(ui8_adc_target_motor_max_current < ui8_controller_adc_motor_max_current)
      000459 C6u01u64         [ 1] 1112 	ld	a, _ui8_controller_adc_motor_max_current+0
      00045C C1u00u00         [ 1] 1113 	cp	a, _ui8_adc_target_motor_max_current+0
      00045F 23 05            [ 2] 1114 	jrule	00189$
                           000461  1115 	C$motor.c$847$2_0$468 ==.
                                   1116 ;	motor.c: 847: ui8_controller_adc_motor_max_current = ui8_adc_target_motor_max_current;
      000461 55u00u00u01u64   [ 1] 1117 	mov	_ui8_controller_adc_motor_max_current+0, _ui8_adc_target_motor_max_current+0
      000466                       1118 00189$:
                           000466  1119 	C$motor.c$854$1_0$427 ==.
                                   1120 ;	motor.c: 854: ui16_pas_counter++;
      000466 CEu01u79         [ 2] 1121 	ldw	x, _ui16_pas_counter+0
      000469 5C               [ 1] 1122 	incw	x
      00046A CFu01u79         [ 2] 1123 	ldw	_ui16_pas_counter+0, x
                           00046D  1124 	C$motor.c$857$1_0$427 ==.
                                   1125 ;	motor.c: 857: if((PAS1__PORT->IDR & PAS1__PIN) == 0)
      00046D C6 50 15         [ 1] 1126 	ld	a, 0x5015
      000470 44               [ 1] 1127 	srl	a
      000471 25 06            [ 1] 1128 	jrc	00191$
                           000473  1129 	C$motor.c$859$2_0$469 ==.
                                   1130 ;	motor.c: 859: ui8_pas_state = 0;
      000473 72 5Fu01u76      [ 1] 1131 	clr	_ui8_pas_state+0
      000477 20 04            [ 2] 1132 	jra	00192$
      000479                       1133 00191$:
                           000479  1134 	C$motor.c$863$2_0$470 ==.
                                   1135 ;	motor.c: 863: ui8_pas_state = 1;
      000479 35 01u01u76      [ 1] 1136 	mov	_ui8_pas_state+0, #0x01
      00047D                       1137 00192$:
                           00047D  1138 	C$motor.c$867$1_0$427 ==.
                                   1139 ;	motor.c: 867: if(ui8_pas_state != ui8_pas_state_old)
      00047D C6u01u77         [ 1] 1140 	ld	a, _ui8_pas_state_old+0
      000480 C1u01u76         [ 1] 1141 	cp	a, _ui8_pas_state+0
      000483 26 03            [ 1] 1142 	jrne	00472$
      000485 CCr04rE5         [ 2] 1143 	jp	00211$
      000488                       1144 00472$:
                           000488  1145 	C$motor.c$869$2_0$471 ==.
                                   1146 ;	motor.c: 869: ui8_pas_state_old = ui8_pas_state;
      000488 55u01u76u01u77   [ 1] 1147 	mov	_ui8_pas_state_old+0, _ui8_pas_state+0
                           00048D  1148 	C$motor.c$872$2_0$471 ==.
                                   1149 ;	motor.c: 872: if(ui8_pas_state == 1)
      00048D C6u01u76         [ 1] 1150 	ld	a, _ui8_pas_state+0
      000490 4A               [ 1] 1151 	dec	a
      000491 26 3D            [ 1] 1152 	jrne	00208$
                           000493  1153 	C$motor.c$875$3_0$472 ==.
                                   1154 ;	motor.c: 875: if(!ui8_pas_after_first_pulse)
      000493 72 5Du01u78      [ 1] 1155 	tnz	_ui8_pas_after_first_pulse+0
      000497 26 0C            [ 1] 1156 	jrne	00200$
                           000499  1157 	C$motor.c$877$4_0$473 ==.
                                   1158 ;	motor.c: 877: ui8_pas_after_first_pulse = 1;
      000499 35 01u01u78      [ 1] 1159 	mov	_ui8_pas_after_first_pulse+0, #0x01
                           00049D  1160 	C$motor.c$878$4_0$473 ==.
                                   1161 ;	motor.c: 878: ui16_pas_pwm_cycles_ticks = (uint16_t) PAS_ABSOLUTE_MIN_CADENCE_PWM_CYCLE_TICKS;
      00049D AE 24 9F         [ 2] 1162 	ldw	x, #0x249f
      0004A0 CFu00u00         [ 2] 1163 	ldw	_ui16_pas_pwm_cycles_ticks+0, x
      0004A3 20 40            [ 2] 1164 	jra	00211$
      0004A5                       1165 00200$:
                           0004A5  1166 	C$motor.c$884$4_0$474 ==.
                                   1167 ;	motor.c: 884: if(ui16_pas_counter < ((uint16_t) PAS_ABSOLUTE_MAX_CADENCE_PWM_CYCLE_TICKS))
      0004A5 CEu01u79         [ 2] 1168 	ldw	x, _ui16_pas_counter+0
      0004A8 A3 01 38         [ 2] 1169 	cpw	x, #0x0138
      0004AB 24 08            [ 1] 1170 	jrnc	00194$
                           0004AD  1171 	C$motor.c$886$5_0$475 ==.
                                   1172 ;	motor.c: 886: ui16_pas_pwm_cycles_ticks = (uint16_t) PAS_ABSOLUTE_MAX_CADENCE_PWM_CYCLE_TICKS;
      0004AD AE 01 38         [ 2] 1173 	ldw	x, #0x0138
      0004B0 CFu00u00         [ 2] 1174 	ldw	_ui16_pas_pwm_cycles_ticks+0, x
      0004B3 20 0A            [ 2] 1175 	jra	00195$
      0004B5                       1176 00194$:
                           0004B5  1177 	C$motor.c$890$5_0$476 ==.
                                   1178 ;	motor.c: 890: ui16_pas_pwm_cycles_ticks = ui16_pas_counter;
      0004B5 CEu01u79         [ 2] 1179 	ldw	x, _ui16_pas_counter+0
      0004B8 CFu00u00         [ 2] 1180 	ldw	_ui16_pas_pwm_cycles_ticks+0, x
                           0004BB  1181 	C$motor.c$891$5_0$476 ==.
                                   1182 ;	motor.c: 891: ui16_pas_counter = 0;
      0004BB 5F               [ 1] 1183 	clrw	x
      0004BC CFu01u79         [ 2] 1184 	ldw	_ui16_pas_counter+0, x
      0004BF                       1185 00195$:
                           0004BF  1186 	C$motor.c$895$4_0$474 ==.
                                   1187 ;	motor.c: 895: if((PAS2__PORT->IDR & PAS2__PIN) == 0)
      0004BF C6 50 10         [ 1] 1188 	ld	a, 0x5010
      0004C2 2B 06            [ 1] 1189 	jrmi	00197$
                           0004C4  1190 	C$motor.c$897$5_0$477 ==.
                                   1191 ;	motor.c: 897: ui8_pedaling_direction = 2;
      0004C4 35 02u00u00      [ 1] 1192 	mov	_ui8_pedaling_direction+0, #0x02
      0004C8 20 1B            [ 2] 1193 	jra	00211$
      0004CA                       1194 00197$:
                           0004CA  1195 	C$motor.c$901$5_0$478 ==.
                                   1196 ;	motor.c: 901: ui8_pedaling_direction = 1;
      0004CA 35 01u00u00      [ 1] 1197 	mov	_ui8_pedaling_direction+0, #0x01
      0004CE 20 15            [ 2] 1198 	jra	00211$
      0004D0                       1199 00208$:
                           0004D0  1200 	C$motor.c$908$3_0$479 ==.
                                   1201 ;	motor.c: 908: if(ui8_pas_after_first_pulse)
      0004D0 72 5Du01u78      [ 1] 1202 	tnz	_ui8_pas_after_first_pulse+0
      0004D4 27 0F            [ 1] 1203 	jreq	00211$
                           0004D6  1204 	C$motor.c$911$4_0$480 ==.
                                   1205 ;	motor.c: 911: if((PAS2__PORT->IDR & PAS2__PIN) != 0)
      0004D6 C6 50 10         [ 1] 1206 	ld	a, 0x5010
      0004D9 2A 06            [ 1] 1207 	jrpl	00203$
                           0004DB  1208 	C$motor.c$913$5_0$481 ==.
                                   1209 ;	motor.c: 913: ui8_pedaling_direction = 2;
      0004DB 35 02u00u00      [ 1] 1210 	mov	_ui8_pedaling_direction+0, #0x02
      0004DF 20 04            [ 2] 1211 	jra	00211$
      0004E1                       1212 00203$:
                           0004E1  1213 	C$motor.c$917$5_0$482 ==.
                                   1214 ;	motor.c: 917: ui8_pedaling_direction = 1;
      0004E1 35 01u00u00      [ 1] 1215 	mov	_ui8_pedaling_direction+0, #0x01
      0004E5                       1216 00211$:
                           0004E5  1217 	C$motor.c$948$1_0$427 ==.
                                   1218 ;	motor.c: 948: if (ui16_pas_counter > ((uint16_t) PAS_ABSOLUTE_MIN_CADENCE_PWM_CYCLE_TICKS))
      0004E5 CEu01u79         [ 2] 1219 	ldw	x, _ui16_pas_counter+0
      0004E8 A3 24 9F         [ 2] 1220 	cpw	x, #0x249f
      0004EB 23 16            [ 2] 1221 	jrule	00213$
                           0004ED  1222 	C$motor.c$950$2_0$483 ==.
                                   1223 ;	motor.c: 950: ui16_pas_pwm_cycles_ticks = (uint16_t) PAS_ABSOLUTE_MIN_CADENCE_PWM_CYCLE_TICKS;
      0004ED AE 24 9F         [ 2] 1224 	ldw	x, #0x249f
      0004F0 CFu00u00         [ 2] 1225 	ldw	_ui16_pas_pwm_cycles_ticks+0, x
                           0004F3  1226 	C$motor.c$951$2_0$483 ==.
                                   1227 ;	motor.c: 951: ui16_pas_counter = 0;
      0004F3 5F               [ 1] 1228 	clrw	x
      0004F4 CFu01u79         [ 2] 1229 	ldw	_ui16_pas_counter+0, x
                           0004F7  1230 	C$motor.c$952$2_0$483 ==.
                                   1231 ;	motor.c: 952: ui8_pas_after_first_pulse = 0;
      0004F7 72 5Fu01u78      [ 1] 1232 	clr	_ui8_pas_after_first_pulse+0
                           0004FB  1233 	C$motor.c$953$2_0$483 ==.
                                   1234 ;	motor.c: 953: ui8_pedaling_direction = 0;
      0004FB 72 5Fu00u00      [ 1] 1235 	clr	_ui8_pedaling_direction+0
                           0004FF  1236 	C$motor.c$955$2_0$483 ==.
                                   1237 ;	motor.c: 955: ui16_torque_sensor_throttle_processed_value = 0;
      0004FF 5F               [ 1] 1238 	clrw	x
      000500 CFu01u7B         [ 2] 1239 	ldw	_ui16_torque_sensor_throttle_processed_value+0, x
      000503                       1240 00213$:
                           000503  1241 	C$motor.c$961$1_0$427 ==.
                                   1242 ;	motor.c: 961: ui16_wheel_speed_sensor_counter++;
      000503 CEu01u84         [ 2] 1243 	ldw	x, _ui16_wheel_speed_sensor_counter+0
      000506 5C               [ 1] 1244 	incw	x
      000507 CFu01u84         [ 2] 1245 	ldw	_ui16_wheel_speed_sensor_counter+0, x
                           00050A  1246 	C$motor.c$964$1_0$427 ==.
                                   1247 ;	motor.c: 964: if(ui16_wheel_speed_sensor_counter > ((uint16_t) WHEEL_SPEED_SENSOR_MIN_PWM_CYCLE_TICKS))
      00050A CEu01u84         [ 2] 1248 	ldw	x, _ui16_wheel_speed_sensor_counter+0
      00050D A3 FF FE         [ 2] 1249 	cpw	x, #0xfffe
      000510 23 11            [ 2] 1250 	jrule	00224$
                           000512  1251 	C$motor.c$966$2_0$484 ==.
                                   1252 ;	motor.c: 966: ui16_wheel_speed_sensor_pwm_cycles_ticks = (uint16_t) WHEEL_SPEED_SENSOR_MIN_PWM_CYCLE_TICKS;
      000512 AE FF FE         [ 2] 1253 	ldw	x, #0xfffe
      000515 CFu00u00         [ 2] 1254 	ldw	_ui16_wheel_speed_sensor_pwm_cycles_ticks+0, x
                           000518  1255 	C$motor.c$967$2_0$484 ==.
                                   1256 ;	motor.c: 967: ui16_wheel_speed_sensor_counter = 0;
      000518 5F               [ 1] 1257 	clrw	x
      000519 CFu01u84         [ 2] 1258 	ldw	_ui16_wheel_speed_sensor_counter+0, x
                           00051C  1259 	C$motor.c$968$2_0$484 ==.
                                   1260 ;	motor.c: 968: ui8_wheel_speed_sensor_change_counter = 0;
      00051C 72 5Fu01u86      [ 1] 1261 	clr	_ui8_wheel_speed_sensor_change_counter+0
      000520 CCr05r73         [ 2] 1262 	jp	00225$
      000523                       1263 00224$:
                           000523  1264 	C$motor.c$974$2_0$485 ==.
                                   1265 ;	motor.c: 974: if(WHEEL_SPEED_SENSOR__PORT->IDR & WHEEL_SPEED_SENSOR__PIN)
      000523 C6 50 01         [ 1] 1266 	ld	a, 0x5001
      000526 A5 02            [ 1] 1267 	bcp	a, #0x02
      000528 27 06            [ 1] 1268 	jreq	00215$
                           00052A  1269 	C$motor.c$976$3_0$486 ==.
                                   1270 ;	motor.c: 976: ui8_wheel_speed_sensor_state = 1;
      00052A 35 01u01u82      [ 1] 1271 	mov	_ui8_wheel_speed_sensor_state+0, #0x01
      00052E 20 04            [ 2] 1272 	jra	00216$
      000530                       1273 00215$:
                           000530  1274 	C$motor.c$980$3_0$487 ==.
                                   1275 ;	motor.c: 980: ui8_wheel_speed_sensor_state = 0;
      000530 72 5Fu01u82      [ 1] 1276 	clr	_ui8_wheel_speed_sensor_state+0
      000534                       1277 00216$:
                           000534  1278 	C$motor.c$983$2_0$485 ==.
                                   1279 ;	motor.c: 983: if(ui8_wheel_speed_sensor_state != ui8_wheel_speed_sensor_state_old) // wheel speed sensor signal did change
      000534 C6u01u83         [ 1] 1280 	ld	a, _ui8_wheel_speed_sensor_state_old+0
      000537 C1u01u82         [ 1] 1281 	cp	a, _ui8_wheel_speed_sensor_state+0
      00053A 27 37            [ 1] 1282 	jreq	00225$
                           00053C  1283 	C$motor.c$985$3_0$488 ==.
                                   1284 ;	motor.c: 985: ui8_wheel_speed_sensor_state_old = ui8_wheel_speed_sensor_state;
      00053C 55u01u82u01u83   [ 1] 1285 	mov	_ui8_wheel_speed_sensor_state_old+0, _ui8_wheel_speed_sensor_state+0
                           000541  1286 	C$motor.c$987$3_0$488 ==.
                                   1287 ;	motor.c: 987: if(ui8_wheel_speed_sensor_state == 1) // consider only when wheel speed sensor signal transition from 0 to 1
      000541 C6u01u82         [ 1] 1288 	ld	a, _ui8_wheel_speed_sensor_state+0
      000544 4A               [ 1] 1289 	dec	a
      000545 26 2C            [ 1] 1290 	jrne	00225$
                           000547  1291 	C$motor.c$991$4_0$489 ==.
                                   1292 ;	motor.c: 991: ui8_wheel_speed_sensor_change_counter++;
      000547 72 5Cu01u86      [ 1] 1293 	inc	_ui8_wheel_speed_sensor_change_counter+0
                           00054B  1294 	C$motor.c$993$4_0$489 ==.
                                   1295 ;	motor.c: 993: if(ui8_wheel_speed_sensor_change_counter >= 2)
      00054B C6u01u86         [ 1] 1296 	ld	a, _ui8_wheel_speed_sensor_change_counter+0
      00054E A1 02            [ 1] 1297 	cp	a, #0x02
      000550 25 21            [ 1] 1298 	jrc	00225$
                           000552  1299 	C$motor.c$995$5_0$490 ==.
                                   1300 ;	motor.c: 995: ui16_wheel_speed_sensor_pwm_cycles_ticks = ui16_wheel_speed_sensor_counter;
      000552 CEu01u84         [ 2] 1301 	ldw	x, _ui16_wheel_speed_sensor_counter+0
      000555 CFu00u00         [ 2] 1302 	ldw	_ui16_wheel_speed_sensor_pwm_cycles_ticks+0, x
                           000558  1303 	C$motor.c$996$5_0$490 ==.
                                   1304 ;	motor.c: 996: ui16_wheel_speed_sensor_counter = 0;
      000558 5F               [ 1] 1305 	clrw	x
      000559 CFu01u84         [ 2] 1306 	ldw	_ui16_wheel_speed_sensor_counter+0, x
                           00055C  1307 	C$motor.c$997$5_0$490 ==.
                                   1308 ;	motor.c: 997: ui32_wheel_speed_sensor_tick_counter++;
      00055C CEu00u02         [ 2] 1309 	ldw	x, _ui32_wheel_speed_sensor_tick_counter+2
      00055F 90 CEu00u00      [ 2] 1310 	ldw	y, _ui32_wheel_speed_sensor_tick_counter+0
      000563 5C               [ 1] 1311 	incw	x
      000564 26 02            [ 1] 1312 	jrne	00492$
      000566 90 5C            [ 1] 1313 	incw	y
      000568                       1314 00492$:
      000568 CFu00u02         [ 2] 1315 	ldw	_ui32_wheel_speed_sensor_tick_counter+2, x
      00056B 90 CFu00u00      [ 2] 1316 	ldw	_ui32_wheel_speed_sensor_tick_counter+0, y
                           00056F  1317 	C$motor.c$998$5_0$490 ==.
                                   1318 ;	motor.c: 998: ui8_wheel_speed_sensor_change_counter = 1; // keep this counter as 1, meaning we just counted one previous change
      00056F 35 01u01u86      [ 1] 1319 	mov	_ui8_wheel_speed_sensor_change_counter+0, #0x01
      000573                       1320 00225$:
                           000573  1321 	C$motor.c$1019$1_0$427 ==.
                                   1322 ;	motor.c: 1019: TIM1->SR1 = (uint8_t)(~(uint8_t)TIM1_IT_CC4);
      000573 35 EF 52 55      [ 1] 1323 	mov	0x5255+0, #0xef
      000577                       1324 00226$:
                           000577  1325 	C$motor.c$1021$1_0$427 ==.
                                   1326 ;	motor.c: 1021: }
      000577 5B 02            [ 2] 1327 	addw	sp, #2
                           000579  1328 	C$motor.c$1021$1_0$427 ==.
                           000579  1329 	XG$TIM1_CAP_COM_IRQHandler$0$0 ==.
      000579 80               [11] 1330 	iret
                           00057A  1331 	G$motor_disable_PWM$0$0 ==.
                           00057A  1332 	C$motor.c$1026$1_0$492 ==.
                                   1333 ;	motor.c: 1026: void motor_disable_PWM(void)
                                   1334 ;	-----------------------------------------
                                   1335 ;	 function motor_disable_PWM
                                   1336 ;	-----------------------------------------
      00057A                       1337 _motor_disable_PWM:
                           00057A  1338 	C$motor.c$1028$1_0$492 ==.
                                   1339 ;	motor.c: 1028: TIM1_CtrlPWMOutputs(DISABLE);
      00057A 4B 00            [ 1] 1340 	push	#0x00
      00057C CDr00r00         [ 4] 1341 	call	_TIM1_CtrlPWMOutputs
      00057F 84               [ 1] 1342 	pop	a
                           000580  1343 	C$motor.c$1029$1_0$492 ==.
                                   1344 ;	motor.c: 1029: }
                           000580  1345 	C$motor.c$1029$1_0$492 ==.
                           000580  1346 	XG$motor_disable_PWM$0$0 ==.
      000580 81               [ 4] 1347 	ret
                           000581  1348 	G$motor_enable_PWM$0$0 ==.
                           000581  1349 	C$motor.c$1034$1_0$494 ==.
                                   1350 ;	motor.c: 1034: void motor_enable_PWM(void)
                                   1351 ;	-----------------------------------------
                                   1352 ;	 function motor_enable_PWM
                                   1353 ;	-----------------------------------------
      000581                       1354 _motor_enable_PWM:
                           000581  1355 	C$motor.c$1036$1_0$494 ==.
                                   1356 ;	motor.c: 1036: TIM1_CtrlPWMOutputs(ENABLE);
      000581 4B 01            [ 1] 1357 	push	#0x01
      000583 CDr00r00         [ 4] 1358 	call	_TIM1_CtrlPWMOutputs
      000586 84               [ 1] 1359 	pop	a
                           000587  1360 	C$motor.c$1037$1_0$494 ==.
                                   1361 ;	motor.c: 1037: }
                           000587  1362 	C$motor.c$1037$1_0$494 ==.
                           000587  1363 	XG$motor_enable_PWM$0$0 ==.
      000587 81               [ 4] 1364 	ret
                           000588  1365 	G$motor_controller_set_state$0$0 ==.
                           000588  1366 	C$motor.c$1042$1_0$496 ==.
                                   1367 ;	motor.c: 1042: void motor_controller_set_state(uint8_t ui8_state)
                                   1368 ;	-----------------------------------------
                                   1369 ;	 function motor_controller_set_state
                                   1370 ;	-----------------------------------------
      000588                       1371 _motor_controller_set_state:
                           000588  1372 	C$motor.c$1044$1_0$496 ==.
                                   1373 ;	motor.c: 1044: ui8_motor_controller_state |= ui8_state;
      000588 7B 03            [ 1] 1374 	ld	a, (0x03, sp)
      00058A CAu01u4E         [ 1] 1375 	or	a, _ui8_motor_controller_state+0
      00058D C7u01u4E         [ 1] 1376 	ld	_ui8_motor_controller_state+0, a
                           000590  1377 	C$motor.c$1045$1_0$496 ==.
                                   1378 ;	motor.c: 1045: }
                           000590  1379 	C$motor.c$1045$1_0$496 ==.
                           000590  1380 	XG$motor_controller_set_state$0$0 ==.
      000590 81               [ 4] 1381 	ret
                           000591  1382 	G$motor_controller_reset_state$0$0 ==.
                           000591  1383 	C$motor.c$1050$1_0$498 ==.
                                   1384 ;	motor.c: 1050: void motor_controller_reset_state(uint8_t ui8_state)
                                   1385 ;	-----------------------------------------
                                   1386 ;	 function motor_controller_reset_state
                                   1387 ;	-----------------------------------------
      000591                       1388 _motor_controller_reset_state:
                           000591  1389 	C$motor.c$1052$1_0$498 ==.
                                   1390 ;	motor.c: 1052: ui8_motor_controller_state &= ~ui8_state;
      000591 7B 03            [ 1] 1391 	ld	a, (0x03, sp)
      000593 43               [ 1] 1392 	cpl	a
      000594 C4u01u4E         [ 1] 1393 	and	a, _ui8_motor_controller_state+0
      000597 C7u01u4E         [ 1] 1394 	ld	_ui8_motor_controller_state+0, a
                           00059A  1395 	C$motor.c$1053$1_0$498 ==.
                                   1396 ;	motor.c: 1053: }
                           00059A  1397 	C$motor.c$1053$1_0$498 ==.
                           00059A  1398 	XG$motor_controller_reset_state$0$0 ==.
      00059A 81               [ 4] 1399 	ret
                           00059B  1400 	G$motor_controller_state_is_set$0$0 ==.
                           00059B  1401 	C$motor.c$1058$1_0$500 ==.
                                   1402 ;	motor.c: 1058: uint8_t motor_controller_state_is_set(uint8_t ui8_state)
                                   1403 ;	-----------------------------------------
                                   1404 ;	 function motor_controller_state_is_set
                                   1405 ;	-----------------------------------------
      00059B                       1406 _motor_controller_state_is_set:
                           00059B  1407 	C$motor.c$1060$1_0$500 ==.
                                   1408 ;	motor.c: 1060: return ui8_motor_controller_state & ui8_state;
      00059B 7B 03            [ 1] 1409 	ld	a, (0x03, sp)
      00059D C4u01u4E         [ 1] 1410 	and	a, _ui8_motor_controller_state+0
                           0005A0  1411 	C$motor.c$1061$1_0$500 ==.
                                   1412 ;	motor.c: 1061: }
                           0005A0  1413 	C$motor.c$1061$1_0$500 ==.
                           0005A0  1414 	XG$motor_controller_state_is_set$0$0 ==.
      0005A0 81               [ 4] 1415 	ret
                           0005A1  1416 	G$hall_sensor_init$0$0 ==.
                           0005A1  1417 	C$motor.c$1066$1_0$502 ==.
                                   1418 ;	motor.c: 1066: void hall_sensor_init(void)
                                   1419 ;	-----------------------------------------
                                   1420 ;	 function hall_sensor_init
                                   1421 ;	-----------------------------------------
      0005A1                       1422 _hall_sensor_init:
                           0005A1  1423 	C$motor.c$1068$1_0$502 ==.
                                   1424 ;	motor.c: 1068: GPIO_Init (HALL_SENSOR_A__PORT, (GPIO_Pin_TypeDef) HALL_SENSOR_A__PIN, GPIO_MODE_IN_FL_NO_IT);
      0005A1 4B 00            [ 1] 1425 	push	#0x00
      0005A3 4B 20            [ 1] 1426 	push	#0x20
      0005A5 4B 14            [ 1] 1427 	push	#0x14
      0005A7 4B 50            [ 1] 1428 	push	#0x50
      0005A9 CDr00r00         [ 4] 1429 	call	_GPIO_Init
      0005AC 5B 04            [ 2] 1430 	addw	sp, #4
                           0005AE  1431 	C$motor.c$1069$1_0$502 ==.
                                   1432 ;	motor.c: 1069: GPIO_Init (HALL_SENSOR_B__PORT, (GPIO_Pin_TypeDef) HALL_SENSOR_B__PIN, GPIO_MODE_IN_FL_NO_IT);
      0005AE 4B 00            [ 1] 1433 	push	#0x00
      0005B0 4B 04            [ 1] 1434 	push	#0x04
      0005B2 4B 0F            [ 1] 1435 	push	#0x0f
      0005B4 4B 50            [ 1] 1436 	push	#0x50
      0005B6 CDr00r00         [ 4] 1437 	call	_GPIO_Init
      0005B9 5B 04            [ 2] 1438 	addw	sp, #4
                           0005BB  1439 	C$motor.c$1070$1_0$502 ==.
                                   1440 ;	motor.c: 1070: GPIO_Init (HALL_SENSOR_C__PORT, (GPIO_Pin_TypeDef) HALL_SENSOR_C__PIN, GPIO_MODE_IN_FL_NO_IT);
      0005BB 4B 00            [ 1] 1441 	push	#0x00
      0005BD 4B 20            [ 1] 1442 	push	#0x20
      0005BF 4B 0A            [ 1] 1443 	push	#0x0a
      0005C1 4B 50            [ 1] 1444 	push	#0x50
      0005C3 CDr00r00         [ 4] 1445 	call	_GPIO_Init
      0005C6 5B 04            [ 2] 1446 	addw	sp, #4
                           0005C8  1447 	C$motor.c$1071$1_0$502 ==.
                                   1448 ;	motor.c: 1071: }
                           0005C8  1449 	C$motor.c$1071$1_0$502 ==.
                           0005C8  1450 	XG$hall_sensor_init$0$0 ==.
      0005C8 81               [ 4] 1451 	ret
                           0005C9  1452 	G$motor_init$0$0 ==.
                           0005C9  1453 	C$motor.c$1076$1_0$504 ==.
                                   1454 ;	motor.c: 1076: void motor_init(void)
                                   1455 ;	-----------------------------------------
                                   1456 ;	 function motor_init
                                   1457 ;	-----------------------------------------
      0005C9                       1458 _motor_init:
                           0005C9  1459 	C$motor.c$1078$1_0$504 ==.
                                   1460 ;	motor.c: 1078: motor_set_pwm_duty_cycle_ramp_up_inverse_step(PWM_DUTY_CYCLE_RAMP_UP_INVERSE_STEP); // each step = 64us
      0005C9 4B 0F            [ 1] 1461 	push	#0x0f
      0005CB 4B 00            [ 1] 1462 	push	#0x00
      0005CD CDr05rFB         [ 4] 1463 	call	_motor_set_pwm_duty_cycle_ramp_up_inverse_step
      0005D0 5B 02            [ 2] 1464 	addw	sp, #2
                           0005D2  1465 	C$motor.c$1079$1_0$504 ==.
                                   1466 ;	motor.c: 1079: motor_set_pwm_duty_cycle_ramp_down_inverse_step(PWM_DUTY_CYCLE_RAMP_DOWN_INVERSE_STEP); // each step = 64us
      0005D2 4B 0F            [ 1] 1467 	push	#0x0f
      0005D4 4B 00            [ 1] 1468 	push	#0x00
      0005D6 CDr06r01         [ 4] 1469 	call	_motor_set_pwm_duty_cycle_ramp_down_inverse_step
      0005D9 5B 02            [ 2] 1470 	addw	sp, #2
                           0005DB  1471 	C$motor.c$1080$1_0$504 ==.
                                   1472 ;	motor.c: 1080: motor_set_phase_current_max(ADC_MOTOR_PHASE_CURRENT_MAX);
      0005DB 4B 30            [ 1] 1473 	push	#0x30
      0005DD CDr06r07         [ 4] 1474 	call	_motor_set_phase_current_max
      0005E0 84               [ 1] 1475 	pop	a
                           0005E1  1476 	C$motor.c$1081$1_0$504 ==.
                                   1477 ;	motor.c: 1081: }
                           0005E1  1478 	C$motor.c$1081$1_0$504 ==.
                           0005E1  1479 	XG$motor_init$0$0 ==.
      0005E1 81               [ 4] 1480 	ret
                           0005E2  1481 	G$motor_set_pwm_duty_cycle_target$0$0 ==.
                           0005E2  1482 	C$motor.c$1086$1_0$506 ==.
                                   1483 ;	motor.c: 1086: void motor_set_pwm_duty_cycle_target(uint8_t ui8_value)
                                   1484 ;	-----------------------------------------
                                   1485 ;	 function motor_set_pwm_duty_cycle_target
                                   1486 ;	-----------------------------------------
      0005E2                       1487 _motor_set_pwm_duty_cycle_target:
                           0005E2  1488 	C$motor.c$1088$1_0$506 ==.
                                   1489 ;	motor.c: 1088: if(ui8_value > PWM_DUTY_CYCLE_MAX) { ui8_value = PWM_DUTY_CYCLE_MAX; }
      0005E2 7B 03            [ 1] 1490 	ld	a, (0x03, sp)
      0005E4 A1 FE            [ 1] 1491 	cp	a, #0xfe
      0005E6 23 04            [ 2] 1492 	jrule	00102$
      0005E8 A6 FE            [ 1] 1493 	ld	a, #0xfe
      0005EA 6B 03            [ 1] 1494 	ld	(0x03, sp), a
      0005EC                       1495 00102$:
                           0005EC  1496 	C$motor.c$1091$1_0$506 ==.
                                   1497 ;	motor.c: 1091: if(ui8_motor_controller_state & MOTOR_CONTROLLER_STATE_BRAKE) { ui8_value = 0; }
      0005EC C6u01u4E         [ 1] 1498 	ld	a, _ui8_motor_controller_state+0
      0005EF A5 02            [ 1] 1499 	bcp	a, #0x02
      0005F1 27 02            [ 1] 1500 	jreq	00104$
      0005F3 0F 03            [ 1] 1501 	clr	(0x03, sp)
      0005F5                       1502 00104$:
                           0005F5  1503 	C$motor.c$1093$1_0$506 ==.
                                   1504 ;	motor.c: 1093: ui8_duty_cycle_target = ui8_value;
      0005F5 7B 03            [ 1] 1505 	ld	a, (0x03, sp)
      0005F7 C7u01u53         [ 1] 1506 	ld	_ui8_duty_cycle_target+0, a
                           0005FA  1507 	C$motor.c$1094$1_0$506 ==.
                                   1508 ;	motor.c: 1094: }
                           0005FA  1509 	C$motor.c$1094$1_0$506 ==.
                           0005FA  1510 	XG$motor_set_pwm_duty_cycle_target$0$0 ==.
      0005FA 81               [ 4] 1511 	ret
                           0005FB  1512 	G$motor_set_pwm_duty_cycle_ramp_up_inverse_step$0$0 ==.
                           0005FB  1513 	C$motor.c$1099$1_0$510 ==.
                                   1514 ;	motor.c: 1099: void motor_set_pwm_duty_cycle_ramp_up_inverse_step(uint16_t ui16_value)
                                   1515 ;	-----------------------------------------
                                   1516 ;	 function motor_set_pwm_duty_cycle_ramp_up_inverse_step
                                   1517 ;	-----------------------------------------
      0005FB                       1518 _motor_set_pwm_duty_cycle_ramp_up_inverse_step:
                           0005FB  1519 	C$motor.c$1101$1_0$510 ==.
                                   1520 ;	motor.c: 1101: ui16_duty_cycle_ramp_up_inverse_step = ui16_value;
      0005FB 1E 03            [ 2] 1521 	ldw	x, (0x03, sp)
      0005FD CFu01u54         [ 2] 1522 	ldw	_ui16_duty_cycle_ramp_up_inverse_step+0, x
                           000600  1523 	C$motor.c$1102$1_0$510 ==.
                                   1524 ;	motor.c: 1102: }
                           000600  1525 	C$motor.c$1102$1_0$510 ==.
                           000600  1526 	XG$motor_set_pwm_duty_cycle_ramp_up_inverse_step$0$0 ==.
      000600 81               [ 4] 1527 	ret
                           000601  1528 	G$motor_set_pwm_duty_cycle_ramp_down_inverse_step$0$0 ==.
                           000601  1529 	C$motor.c$1107$1_0$512 ==.
                                   1530 ;	motor.c: 1107: void motor_set_pwm_duty_cycle_ramp_down_inverse_step(uint16_t ui16_value)
                                   1531 ;	-----------------------------------------
                                   1532 ;	 function motor_set_pwm_duty_cycle_ramp_down_inverse_step
                                   1533 ;	-----------------------------------------
      000601                       1534 _motor_set_pwm_duty_cycle_ramp_down_inverse_step:
                           000601  1535 	C$motor.c$1109$1_0$512 ==.
                                   1536 ;	motor.c: 1109: ui16_duty_cycle_ramp_down_inverse_step = ui16_value;
      000601 1E 03            [ 2] 1537 	ldw	x, (0x03, sp)
      000603 CFu01u56         [ 2] 1538 	ldw	_ui16_duty_cycle_ramp_down_inverse_step+0, x
                           000606  1539 	C$motor.c$1110$1_0$512 ==.
                                   1540 ;	motor.c: 1110: }
                           000606  1541 	C$motor.c$1110$1_0$512 ==.
                           000606  1542 	XG$motor_set_pwm_duty_cycle_ramp_down_inverse_step$0$0 ==.
      000606 81               [ 4] 1543 	ret
                           000607  1544 	G$motor_set_phase_current_max$0$0 ==.
                           000607  1545 	C$motor.c$1115$1_0$514 ==.
                                   1546 ;	motor.c: 1115: void motor_set_phase_current_max(uint8_t ui8_value)
                                   1547 ;	-----------------------------------------
                                   1548 ;	 function motor_set_phase_current_max
                                   1549 ;	-----------------------------------------
      000607                       1550 _motor_set_phase_current_max:
                           000607  1551 	C$motor.c$1117$1_0$514 ==.
                                   1552 ;	motor.c: 1117: ui8_adc_target_motor_phase_max_current = ui8_adc_motor_phase_current_offset + ui8_value;
      000607 C6u01u75         [ 1] 1553 	ld	a, _ui8_adc_motor_phase_current_offset+0
      00060A 1B 03            [ 1] 1554 	add	a, (0x03, sp)
      00060C C7u01u74         [ 1] 1555 	ld	_ui8_adc_target_motor_phase_max_current+0, a
                           00060F  1556 	C$motor.c$1118$1_0$514 ==.
                                   1557 ;	motor.c: 1118: }
                           00060F  1558 	C$motor.c$1118$1_0$514 ==.
                           00060F  1559 	XG$motor_set_phase_current_max$0$0 ==.
      00060F 81               [ 4] 1560 	ret
                           000610  1561 	G$ui16_motor_get_motor_speed_erps$0$0 ==.
                           000610  1562 	C$motor.c$1123$1_0$516 ==.
                                   1563 ;	motor.c: 1123: uint16_t ui16_motor_get_motor_speed_erps(void)
                                   1564 ;	-----------------------------------------
                                   1565 ;	 function ui16_motor_get_motor_speed_erps
                                   1566 ;	-----------------------------------------
      000610                       1567 _ui16_motor_get_motor_speed_erps:
                           000610  1568 	C$motor.c$1125$1_0$516 ==.
                                   1569 ;	motor.c: 1125: return ui16_motor_speed_erps;
      000610 CEu01u44         [ 2] 1570 	ldw	x, _ui16_motor_speed_erps+0
                           000613  1571 	C$motor.c$1126$1_0$516 ==.
                                   1572 ;	motor.c: 1126: }
                           000613  1573 	C$motor.c$1126$1_0$516 ==.
                           000613  1574 	XG$ui16_motor_get_motor_speed_erps$0$0 ==.
      000613 81               [ 4] 1575 	ret
                           000614  1576 	G$read_battery_voltage$0$0 ==.
                           000614  1577 	C$motor.c$1131$1_0$518 ==.
                                   1578 ;	motor.c: 1131: void read_battery_voltage(void)
                                   1579 ;	-----------------------------------------
                                   1580 ;	 function read_battery_voltage
                                   1581 ;	-----------------------------------------
      000614                       1582 _read_battery_voltage:
                           000614  1583 	C$motor.c$1134$1_0$518 ==.
                                   1584 ;	motor.c: 1134: ui16_adc_battery_voltage_accumulated -= ui16_adc_battery_voltage_accumulated >> READ_BATTERY_VOLTAGE_FILTER_COEFFICIENT;
      000614 CEu01u67         [ 2] 1585 	ldw	x, _ui16_adc_battery_voltage_accumulated+0
      000617 54               [ 2] 1586 	srlw	x
      000618 54               [ 2] 1587 	srlw	x
      000619 50               [ 2] 1588 	negw	x
      00061A 72 BBu01u67      [ 2] 1589 	addw	x, _ui16_adc_battery_voltage_accumulated+0
      00061E CFu01u67         [ 2] 1590 	ldw	_ui16_adc_battery_voltage_accumulated+0, x
                           000621  1591 	C$motor.c$1135$1_0$518 ==.
                                   1592 ;	motor.c: 1135: ui16_adc_battery_voltage_accumulated += ui16_adc_read_battery_voltage_10b();
      000621 CDr00r00         [ 4] 1593 	call	_ui16_adc_read_battery_voltage_10b
      000624 72 BBu01u67      [ 2] 1594 	addw	x, _ui16_adc_battery_voltage_accumulated+0
      000628 CFu01u67         [ 2] 1595 	ldw	_ui16_adc_battery_voltage_accumulated+0, x
                           00062B  1596 	C$motor.c$1136$1_0$518 ==.
                                   1597 ;	motor.c: 1136: ui16_adc_battery_voltage_filtered_10b = ui16_adc_battery_voltage_accumulated >> READ_BATTERY_VOLTAGE_FILTER_COEFFICIENT;
      00062B CEu01u67         [ 2] 1598 	ldw	x, _ui16_adc_battery_voltage_accumulated+0
      00062E 54               [ 2] 1599 	srlw	x
      00062F 54               [ 2] 1600 	srlw	x
      000630 CFu01u69         [ 2] 1601 	ldw	_ui16_adc_battery_voltage_filtered_10b+0, x
                           000633  1602 	C$motor.c$1137$1_0$518 ==.
                                   1603 ;	motor.c: 1137: }
                           000633  1604 	C$motor.c$1137$1_0$518 ==.
                           000633  1605 	XG$read_battery_voltage$0$0 ==.
      000633 81               [ 4] 1606 	ret
                           000634  1607 	G$read_battery_current$0$0 ==.
                           000634  1608 	C$motor.c$1142$1_0$520 ==.
                                   1609 ;	motor.c: 1142: void read_battery_current(void)
                                   1610 ;	-----------------------------------------
                                   1611 ;	 function read_battery_current
                                   1612 ;	-----------------------------------------
      000634                       1613 _read_battery_current:
                           000634  1614 	C$motor.c$1145$1_0$520 ==.
                                   1615 ;	motor.c: 1145: ui16_adc_battery_current_accumulated -= ui16_adc_battery_current_accumulated >> READ_BATTERY_CURRENT_FILTER_COEFFICIENT;
      000634 CEu01u6B         [ 2] 1616 	ldw	x, _ui16_adc_battery_current_accumulated+0
      000637 54               [ 2] 1617 	srlw	x
      000638 54               [ 2] 1618 	srlw	x
      000639 50               [ 2] 1619 	negw	x
      00063A 72 BBu01u6B      [ 2] 1620 	addw	x, _ui16_adc_battery_current_accumulated+0
      00063E CFu01u6B         [ 2] 1621 	ldw	_ui16_adc_battery_current_accumulated+0, x
                           000641  1622 	C$motor.c$1146$1_0$520 ==.
                                   1623 ;	motor.c: 1146: ui16_adc_battery_current_accumulated += ui16_adc_battery_current_10b;
      000641 CEu01u6B         [ 2] 1624 	ldw	x, _ui16_adc_battery_current_accumulated+0
      000644 72 BBu01u6E      [ 2] 1625 	addw	x, _ui16_adc_battery_current_10b+0
      000648 CFu01u6B         [ 2] 1626 	ldw	_ui16_adc_battery_current_accumulated+0, x
                           00064B  1627 	C$motor.c$1147$1_0$520 ==.
                                   1628 ;	motor.c: 1147: ui8_adc_battery_current_filtered_10b = ui16_adc_battery_current_accumulated >> READ_BATTERY_CURRENT_FILTER_COEFFICIENT;
      00064B CEu01u6B         [ 2] 1629 	ldw	x, _ui16_adc_battery_current_accumulated+0
      00064E 54               [ 2] 1630 	srlw	x
      00064F 54               [ 2] 1631 	srlw	x
      000650 9F               [ 1] 1632 	ld	a, xl
      000651 C7u01u6D         [ 1] 1633 	ld	_ui8_adc_battery_current_filtered_10b+0, a
                           000654  1634 	C$motor.c$1148$1_0$520 ==.
                                   1635 ;	motor.c: 1148: }
                           000654  1636 	C$motor.c$1148$1_0$520 ==.
                           000654  1637 	XG$read_battery_current$0$0 ==.
      000654 81               [ 4] 1638 	ret
                           000655  1639 	G$calc_foc_angle$0$0 ==.
                           000655  1640 	C$motor.c$1153$1_0$522 ==.
                                   1641 ;	motor.c: 1153: void calc_foc_angle(void)
                                   1642 ;	-----------------------------------------
                                   1643 ;	 function calc_foc_angle
                                   1644 ;	-----------------------------------------
      000655                       1645 _calc_foc_angle:
      000655 52 0E            [ 2] 1646 	sub	sp, #14
                           000657  1647 	C$motor.c$1164$1_0$522 ==.
                                   1648 ;	motor.c: 1164: p_configuration_variables = get_configuration_variables();
      000657 CDr00r00         [ 4] 1649 	call	_get_configuration_variables
      00065A 1F 0D            [ 2] 1650 	ldw	(0x0d, sp), x
                           00065C  1651 	C$motor.c$1174$1_0$522 ==.
                                   1652 ;	motor.c: 1174: ui16_temp = ui16_adc_battery_voltage_filtered_10b * ADC10BITS_BATTERY_VOLTAGE_PER_ADC_STEP_X512;
      00065C 3Bu01u6A         [ 1] 1653 	push	_ui16_adc_battery_voltage_filtered_10b+1
      00065F 3Bu01u69         [ 1] 1654 	push	_ui16_adc_battery_voltage_filtered_10b+0
      000662 4B 2C            [ 1] 1655 	push	#0x2c
      000664 4B 00            [ 1] 1656 	push	#0x00
      000666 CDr00r00         [ 4] 1657 	call	__mulint
      000669 5B 04            [ 2] 1658 	addw	sp, #4
      00066B 9E               [ 1] 1659 	ld	a, xh
                           00066C  1660 	C$motor.c$1175$1_0$522 ==.
                                   1661 ;	motor.c: 1175: ui16_temp = (ui16_temp >> 8) * ui8_duty_cycle;
      00066C 5F               [ 1] 1662 	clrw	x
      00066D 97               [ 1] 1663 	ld	xl, a
      00066E C6u01u52         [ 1] 1664 	ld	a, _ui8_duty_cycle+0
      000671 6B 0C            [ 1] 1665 	ld	(0x0c, sp), a
      000673 0F 0B            [ 1] 1666 	clr	(0x0b, sp)
      000675 16 0B            [ 2] 1667 	ldw	y, (0x0b, sp)
      000677 90 89            [ 2] 1668 	pushw	y
      000679 89               [ 2] 1669 	pushw	x
      00067A CDr00r00         [ 4] 1670 	call	__mulint
      00067D 5B 04            [ 2] 1671 	addw	sp, #4
      00067F 9E               [ 1] 1672 	ld	a, xh
                           000680  1673 	C$motor.c$1176$1_0$522 ==.
                                   1674 ;	motor.c: 1176: ui16_e_phase_voltage = ui16_temp >> 9;
      000680 5F               [ 1] 1675 	clrw	x
      000681 97               [ 1] 1676 	ld	xl, a
      000682 54               [ 2] 1677 	srlw	x
      000683 1F 01            [ 2] 1678 	ldw	(0x01, sp), x
                           000685  1679 	C$motor.c$1179$1_0$522 ==.
                                   1680 ;	motor.c: 1179: if(ui8_duty_cycle > 10)
      000685 C6u01u52         [ 1] 1681 	ld	a, _ui8_duty_cycle+0
      000688 A1 0A            [ 1] 1682 	cp	a, #0x0a
      00068A 23 28            [ 2] 1683 	jrule	00102$
                           00068C  1684 	C$motor.c$1181$2_0$523 ==.
                                   1685 ;	motor.c: 1181: ui16_temp = ((uint16_t) ui8_adc_battery_current_filtered_10b) * ADC_BATTERY_CURRENT_PER_ADC_STEP_X512;
      00068C 5F               [ 1] 1686 	clrw	x
      00068D C6u01u6D         [ 1] 1687 	ld	a, _ui8_adc_battery_current_filtered_10b+0
      000690 97               [ 1] 1688 	ld	xl, a
      000691 89               [ 2] 1689 	pushw	x
      000692 4B 66            [ 1] 1690 	push	#0x66
      000694 4B 00            [ 1] 1691 	push	#0x00
      000696 CDr00r00         [ 4] 1692 	call	__mulint
      000699 5B 04            [ 2] 1693 	addw	sp, #4
                           00069B  1694 	C$motor.c$1182$2_0$523 ==.
                                   1695 ;	motor.c: 1182: ui32_i_phase_current_x2 = ui16_temp / ui8_duty_cycle;
      00069B 90 5F            [ 1] 1696 	clrw	y
      00069D C6u01u52         [ 1] 1697 	ld	a, _ui8_duty_cycle+0
      0006A0 90 97            [ 1] 1698 	ld	yl, a
      0006A2 65               [ 2] 1699 	divw	x, y
      0006A3 90 5F            [ 1] 1700 	clrw	y
      0006A5 1F 05            [ 2] 1701 	ldw	(0x05, sp), x
      0006A7 17 03            [ 2] 1702 	ldw	(0x03, sp), y
                           0006A9  1703 	C$motor.c$1185$2_0$523 ==.
                                   1704 ;	motor.c: 1185: p_configuration_variables->ui8_working_status |= 0x40; // bit6 = 1 (motor working)
      0006A9 1E 0D            [ 2] 1705 	ldw	x, (0x0d, sp)
      0006AB 1C 00 23         [ 2] 1706 	addw	x, #0x0023
      0006AE F6               [ 1] 1707 	ld	a, (x)
      0006AF AA 40            [ 1] 1708 	or	a, #0x40
      0006B1 F7               [ 1] 1709 	ld	(x), a
      0006B2 20 0E            [ 2] 1710 	jra	00103$
      0006B4                       1711 00102$:
                           0006B4  1712 	C$motor.c$1190$2_0$524 ==.
                                   1713 ;	motor.c: 1190: ui32_i_phase_current_x2 = 0;
      0006B4 5F               [ 1] 1714 	clrw	x
      0006B5 1F 05            [ 2] 1715 	ldw	(0x05, sp), x
      0006B7 1F 03            [ 2] 1716 	ldw	(0x03, sp), x
                           0006B9  1717 	C$motor.c$1193$2_0$524 ==.
                                   1718 ;	motor.c: 1193: p_configuration_variables->ui8_working_status &= 0xBF; // bit6 = 0 (motor not working)
      0006B9 1E 0D            [ 2] 1719 	ldw	x, (0x0d, sp)
      0006BB 1C 00 23         [ 2] 1720 	addw	x, #0x0023
      0006BE F6               [ 1] 1721 	ld	a, (x)
      0006BF A4 BF            [ 1] 1722 	and	a, #0xbf
      0006C1 F7               [ 1] 1723 	ld	(x), a
      0006C2                       1724 00103$:
                           0006C2  1725 	C$motor.c$1198$1_0$522 ==.
                                   1726 ;	motor.c: 1198: ui32_w_angular_velocity_x16 = ui16_motor_speed_erps * 101;
      0006C2 3Bu01u45         [ 1] 1727 	push	_ui16_motor_speed_erps+1
      0006C5 3Bu01u44         [ 1] 1728 	push	_ui16_motor_speed_erps+0
      0006C8 4B 65            [ 1] 1729 	push	#0x65
      0006CA 4B 00            [ 1] 1730 	push	#0x00
      0006CC CDr00r00         [ 4] 1731 	call	__mulint
      0006CF 5B 04            [ 2] 1732 	addw	sp, #4
      0006D1 90 5F            [ 1] 1733 	clrw	y
      0006D3 1F 09            [ 2] 1734 	ldw	(0x09, sp), x
      0006D5 17 07            [ 2] 1735 	ldw	(0x07, sp), y
                           0006D7  1736 	C$motor.c$1219$1_0$522 ==.
                                   1737 ;	motor.c: 1219: switch (p_configuration_variables->ui8_motor_type)
      0006D7 1E 0D            [ 2] 1738 	ldw	x, (0x0d, sp)
      0006D9 E6 0D            [ 1] 1739 	ld	a, (0xd, x)
      0006DB A1 00            [ 1] 1740 	cp	a, #0x00
      0006DD 27 0F            [ 1] 1741 	jreq	00104$
      0006DF A1 01            [ 1] 1742 	cp	a, #0x01
      0006E1 27 1C            [ 1] 1743 	jreq	00105$
      0006E3 A1 02            [ 1] 1744 	cp	a, #0x02
      0006E5 27 28            [ 1] 1745 	jreq	00106$
      0006E7 A1 03            [ 1] 1746 	cp	a, #0x03
      0006E9 27 34            [ 1] 1747 	jreq	00107$
      0006EB CCr07r2F         [ 2] 1748 	jp	00108$
                           0006EE  1749 	C$motor.c$1221$2_0$525 ==.
                                   1750 ;	motor.c: 1221: case 0:
      0006EE                       1751 00104$:
                           0006EE  1752 	C$motor.c$1222$2_0$525 ==.
                                   1753 ;	motor.c: 1222: ui32_l_x1048576 = 142; // 48 V motor
      0006EE AE 00 8E         [ 2] 1754 	ldw	x, #0x008e
      0006F1 1F 0D            [ 2] 1755 	ldw	(0x0d, sp), x
      0006F3 5F               [ 1] 1756 	clrw	x
      0006F4 1F 0B            [ 2] 1757 	ldw	(0x0b, sp), x
                           0006F6  1758 	C$motor.c$1223$2_0$525 ==.
                                   1759 ;	motor.c: 1223: ui16_max_motor_speed_erps = (uint16_t) MOTOR_OVER_SPEED_ERPS;
      0006F6 AE 02 08         [ 2] 1760 	ldw	x, #0x0208
      0006F9 CFu01u42         [ 2] 1761 	ldw	_ui16_max_motor_speed_erps+0, x
                           0006FC  1762 	C$motor.c$1224$2_0$525 ==.
                                   1763 ;	motor.c: 1224: break;
      0006FC CCr07r3D         [ 2] 1764 	jp	00109$
                           0006FF  1765 	C$motor.c$1226$2_0$525 ==.
                                   1766 ;	motor.c: 1226: case 1:
      0006FF                       1767 00105$:
                           0006FF  1768 	C$motor.c$1227$2_0$525 ==.
                                   1769 ;	motor.c: 1227: ui32_l_x1048576 = 80; // 36 V motor
      0006FF AE 00 50         [ 2] 1770 	ldw	x, #0x0050
      000702 1F 0D            [ 2] 1771 	ldw	(0x0d, sp), x
      000704 5F               [ 1] 1772 	clrw	x
      000705 1F 0B            [ 2] 1773 	ldw	(0x0b, sp), x
                           000707  1774 	C$motor.c$1228$2_0$525 ==.
                                   1775 ;	motor.c: 1228: ui16_max_motor_speed_erps = (uint16_t) MOTOR_OVER_SPEED_ERPS;
      000707 AE 02 08         [ 2] 1776 	ldw	x, #0x0208
      00070A CFu01u42         [ 2] 1777 	ldw	_ui16_max_motor_speed_erps+0, x
                           00070D  1778 	C$motor.c$1229$2_0$525 ==.
                                   1779 ;	motor.c: 1229: break;
      00070D 20 2E            [ 2] 1780 	jra	00109$
                           00070F  1781 	C$motor.c$1231$2_0$525 ==.
                                   1782 ;	motor.c: 1231: case 2: // experimental high cadence mode for 48 volt motor
      00070F                       1783 00106$:
                           00070F  1784 	C$motor.c$1232$2_0$525 ==.
                                   1785 ;	motor.c: 1232: ui32_l_x1048576 = 199;
      00070F AE 00 C7         [ 2] 1786 	ldw	x, #0x00c7
      000712 1F 0D            [ 2] 1787 	ldw	(0x0d, sp), x
      000714 5F               [ 1] 1788 	clrw	x
      000715 1F 0B            [ 2] 1789 	ldw	(0x0b, sp), x
                           000717  1790 	C$motor.c$1233$2_0$525 ==.
                                   1791 ;	motor.c: 1233: ui16_max_motor_speed_erps = (uint16_t) MOTOR_OVER_SPEED_ERPS_EXPERIMENTAL;
      000717 AE 02 BC         [ 2] 1792 	ldw	x, #0x02bc
      00071A CFu01u42         [ 2] 1793 	ldw	_ui16_max_motor_speed_erps+0, x
                           00071D  1794 	C$motor.c$1234$2_0$525 ==.
                                   1795 ;	motor.c: 1234: break;
      00071D 20 1E            [ 2] 1796 	jra	00109$
                           00071F  1797 	C$motor.c$1236$2_0$525 ==.
                                   1798 ;	motor.c: 1236: case 3: // experimental high cadence mode for 36 volt motor
      00071F                       1799 00107$:
                           00071F  1800 	C$motor.c$1237$2_0$525 ==.
                                   1801 ;	motor.c: 1237: ui32_l_x1048576 = 115; // confirmed working with the 36 V motor (only) by user jbalat so far
      00071F AE 00 73         [ 2] 1802 	ldw	x, #0x0073
      000722 1F 0D            [ 2] 1803 	ldw	(0x0d, sp), x
      000724 5F               [ 1] 1804 	clrw	x
      000725 1F 0B            [ 2] 1805 	ldw	(0x0b, sp), x
                           000727  1806 	C$motor.c$1238$2_0$525 ==.
                                   1807 ;	motor.c: 1238: ui16_max_motor_speed_erps = (uint16_t) MOTOR_OVER_SPEED_ERPS_EXPERIMENTAL;
      000727 AE 02 BC         [ 2] 1808 	ldw	x, #0x02bc
      00072A CFu01u42         [ 2] 1809 	ldw	_ui16_max_motor_speed_erps+0, x
                           00072D  1810 	C$motor.c$1239$2_0$525 ==.
                                   1811 ;	motor.c: 1239: break;
      00072D 20 0E            [ 2] 1812 	jra	00109$
                           00072F  1813 	C$motor.c$1241$2_0$525 ==.
                                   1814 ;	motor.c: 1241: default:
      00072F                       1815 00108$:
                           00072F  1816 	C$motor.c$1242$2_0$525 ==.
                                   1817 ;	motor.c: 1242: ui32_l_x1048576 = 142; // 48 V motor
      00072F AE 00 8E         [ 2] 1818 	ldw	x, #0x008e
      000732 1F 0D            [ 2] 1819 	ldw	(0x0d, sp), x
      000734 5F               [ 1] 1820 	clrw	x
      000735 1F 0B            [ 2] 1821 	ldw	(0x0b, sp), x
                           000737  1822 	C$motor.c$1243$2_0$525 ==.
                                   1823 ;	motor.c: 1243: ui16_max_motor_speed_erps = (uint16_t) MOTOR_OVER_SPEED_ERPS;
      000737 AE 02 08         [ 2] 1824 	ldw	x, #0x0208
      00073A CFu01u42         [ 2] 1825 	ldw	_ui16_max_motor_speed_erps+0, x
                           00073D  1826 	C$motor.c$1245$1_0$522 ==.
                                   1827 ;	motor.c: 1245: }	
      00073D                       1828 00109$:
                           00073D  1829 	C$motor.c$1248$1_0$522 ==.
                                   1830 ;	motor.c: 1248: ui32_temp = ui32_i_phase_current_x2 * ui32_l_x1048576;
      00073D 1E 0D            [ 2] 1831 	ldw	x, (0x0d, sp)
      00073F 89               [ 2] 1832 	pushw	x
      000740 1E 0D            [ 2] 1833 	ldw	x, (0x0d, sp)
      000742 89               [ 2] 1834 	pushw	x
      000743 1E 09            [ 2] 1835 	ldw	x, (0x09, sp)
      000745 89               [ 2] 1836 	pushw	x
      000746 1E 09            [ 2] 1837 	ldw	x, (0x09, sp)
      000748 89               [ 2] 1838 	pushw	x
      000749 CDr00r00         [ 4] 1839 	call	__mullong
      00074C 5B 08            [ 2] 1840 	addw	sp, #8
      00074E 1F 0D            [ 2] 1841 	ldw	(0x0d, sp), x
                           000750  1842 	C$motor.c$1249$1_0$522 ==.
                                   1843 ;	motor.c: 1249: ui32_temp *= ui32_w_angular_velocity_x16;
      000750 1E 09            [ 2] 1844 	ldw	x, (0x09, sp)
      000752 89               [ 2] 1845 	pushw	x
      000753 1E 09            [ 2] 1846 	ldw	x, (0x09, sp)
      000755 89               [ 2] 1847 	pushw	x
      000756 1E 11            [ 2] 1848 	ldw	x, (0x11, sp)
      000758 89               [ 2] 1849 	pushw	x
      000759 90 89            [ 2] 1850 	pushw	y
      00075B CDr00r00         [ 4] 1851 	call	__mullong
      00075E 5B 08            [ 2] 1852 	addw	sp, #8
      000760 51               [ 1] 1853 	exgw	x, y
                           000761  1854 	C$motor.c$1250$1_0$522 ==.
                                   1855 ;	motor.c: 1250: ui16_iwl_128 = ui32_temp >> 18;
      000761 54               [ 2] 1856 	srlw	x
      000762 54               [ 2] 1857 	srlw	x
                           000763  1858 	C$motor.c$1253$1_0$522 ==.
                                   1859 ;	motor.c: 1253: ui8_foc_angle = asin_table(ui16_iwl_128 / ui16_e_phase_voltage);
      000763 16 01            [ 2] 1860 	ldw	y, (0x01, sp)
      000765 65               [ 2] 1861 	divw	x, y
      000766 9F               [ 1] 1862 	ld	a, xl
      000767 88               [ 1] 1863 	push	a
      000768 CDr07r97         [ 4] 1864 	call	_asin_table
      00076B 5B 01            [ 2] 1865 	addw	sp, #1
      00076D C7u01u49         [ 1] 1866 	ld	_ui8_foc_angle+0, a
                           000770  1867 	C$motor.c$1256$1_0$522 ==.
                                   1868 ;	motor.c: 1256: ui16_foc_angle_accumulated -= ui16_foc_angle_accumulated >> 4;
      000770 CEu01u4B         [ 2] 1869 	ldw	x, _ui16_foc_angle_accumulated+0
      000773 A6 10            [ 1] 1870 	ld	a, #0x10
      000775 62               [ 2] 1871 	div	x, a
      000776 50               [ 2] 1872 	negw	x
      000777 72 BBu01u4B      [ 2] 1873 	addw	x, _ui16_foc_angle_accumulated+0
      00077B CFu01u4B         [ 2] 1874 	ldw	_ui16_foc_angle_accumulated+0, x
                           00077E  1875 	C$motor.c$1257$1_0$522 ==.
                                   1876 ;	motor.c: 1257: ui16_foc_angle_accumulated += ui8_foc_angle;
      00077E 5F               [ 1] 1877 	clrw	x
      00077F C6u01u49         [ 1] 1878 	ld	a, _ui8_foc_angle+0
      000782 97               [ 1] 1879 	ld	xl, a
      000783 72 BBu01u4B      [ 2] 1880 	addw	x, _ui16_foc_angle_accumulated+0
      000787 CFu01u4B         [ 2] 1881 	ldw	_ui16_foc_angle_accumulated+0, x
                           00078A  1882 	C$motor.c$1258$1_0$522 ==.
                                   1883 ;	motor.c: 1258: ui8_foc_angle = ui16_foc_angle_accumulated >> 4;
      00078A CEu01u4B         [ 2] 1884 	ldw	x, _ui16_foc_angle_accumulated+0
      00078D A6 10            [ 1] 1885 	ld	a, #0x10
      00078F 62               [ 2] 1886 	div	x, a
      000790 9F               [ 1] 1887 	ld	a, xl
      000791 C7u01u49         [ 1] 1888 	ld	_ui8_foc_angle+0, a
                           000794  1889 	C$motor.c$1259$1_0$522 ==.
                                   1890 ;	motor.c: 1259: }
      000794 5B 0E            [ 2] 1891 	addw	sp, #14
                           000796  1892 	C$motor.c$1259$1_0$522 ==.
                           000796  1893 	XG$calc_foc_angle$0$0 ==.
      000796 81               [ 4] 1894 	ret
                           000797  1895 	G$asin_table$0$0 ==.
                           000797  1896 	C$motor.c$1264$1_0$527 ==.
                                   1897 ;	motor.c: 1264: uint8_t asin_table(uint8_t ui8_inverted_angle_x128) // calc asin also converts the final result to degrees
                                   1898 ;	-----------------------------------------
                                   1899 ;	 function asin_table
                                   1900 ;	-----------------------------------------
      000797                       1901 _asin_table:
      000797 88               [ 1] 1902 	push	a
                           000798  1903 	C$motor.c$1268$2_0$528 ==.
                                   1904 ;	motor.c: 1268: while(ui8_index < SIN_TABLE_LEN)
      000798 0F 01            [ 1] 1905 	clr	(0x01, sp)
      00079A                       1906 00103$:
      00079A 7B 01            [ 1] 1907 	ld	a, (0x01, sp)
      00079C A1 3C            [ 1] 1908 	cp	a, #0x3c
      00079E 24 10            [ 1] 1909 	jrnc	00105$
                           0007A0  1910 	C$motor.c$1270$2_0$528 ==.
                                   1911 ;	motor.c: 1270: if(ui8_inverted_angle_x128 < ui8_sin_table[ui8_index])
      0007A0 5F               [ 1] 1912 	clrw	x
      0007A1 7B 01            [ 1] 1913 	ld	a, (0x01, sp)
      0007A3 97               [ 1] 1914 	ld	xl, a
      0007A4 1Cr01r00         [ 2] 1915 	addw	x, #(_ui8_sin_table + 0)
      0007A7 F6               [ 1] 1916 	ld	a, (x)
      0007A8 11 04            [ 1] 1917 	cp	a, (0x04, sp)
      0007AA 22 04            [ 1] 1918 	jrugt	00105$
                           0007AC  1919 	C$motor.c$1275$2_0$528 ==.
                                   1920 ;	motor.c: 1275: ui8_index++;
      0007AC 0C 01            [ 1] 1921 	inc	(0x01, sp)
      0007AE 20 EA            [ 2] 1922 	jra	00103$
      0007B0                       1923 00105$:
                           0007B0  1924 	C$motor.c$1279$1_0$527 ==.
                                   1925 ;	motor.c: 1279: return ui8_index--;
      0007B0 7B 01            [ 1] 1926 	ld	a, (0x01, sp)
                           0007B2  1927 	C$motor.c$1280$1_0$527 ==.
                                   1928 ;	motor.c: 1280: }
      0007B2 5B 01            [ 2] 1929 	addw	sp, #1
                           0007B4  1930 	C$motor.c$1280$1_0$527 ==.
                           0007B4  1931 	XG$asin_table$0$0 ==.
      0007B4 81               [ 4] 1932 	ret
                           0007B5  1933 	G$motor_get_adc_battery_current_filtered_10b$0$0 ==.
                           0007B5  1934 	C$motor.c$1285$1_0$531 ==.
                                   1935 ;	motor.c: 1285: uint8_t motor_get_adc_battery_current_filtered_10b(void)
                                   1936 ;	-----------------------------------------
                                   1937 ;	 function motor_get_adc_battery_current_filtered_10b
                                   1938 ;	-----------------------------------------
      0007B5                       1939 _motor_get_adc_battery_current_filtered_10b:
                           0007B5  1940 	C$motor.c$1287$1_0$531 ==.
                                   1941 ;	motor.c: 1287: return ui8_adc_battery_current_filtered_10b;
      0007B5 C6u01u6D         [ 1] 1942 	ld	a, _ui8_adc_battery_current_filtered_10b+0
                           0007B8  1943 	C$motor.c$1288$1_0$531 ==.
                                   1944 ;	motor.c: 1288: }
                           0007B8  1945 	C$motor.c$1288$1_0$531 ==.
                           0007B8  1946 	XG$motor_get_adc_battery_current_filtered_10b$0$0 ==.
      0007B8 81               [ 4] 1947 	ret
                           0007B9  1948 	G$motor_get_adc_battery_voltage_filtered_10b$0$0 ==.
                           0007B9  1949 	C$motor.c$1293$1_0$533 ==.
                                   1950 ;	motor.c: 1293: uint16_t motor_get_adc_battery_voltage_filtered_10b(void)
                                   1951 ;	-----------------------------------------
                                   1952 ;	 function motor_get_adc_battery_voltage_filtered_10b
                                   1953 ;	-----------------------------------------
      0007B9                       1954 _motor_get_adc_battery_voltage_filtered_10b:
                           0007B9  1955 	C$motor.c$1295$1_0$533 ==.
                                   1956 ;	motor.c: 1295: return ui16_adc_battery_voltage_filtered_10b;
      0007B9 CEu01u69         [ 2] 1957 	ldw	x, _ui16_adc_battery_voltage_filtered_10b+0
                           0007BC  1958 	C$motor.c$1296$1_0$533 ==.
                                   1959 ;	motor.c: 1296: }
                           0007BC  1960 	C$motor.c$1296$1_0$533 ==.
                           0007BC  1961 	XG$motor_get_adc_battery_voltage_filtered_10b$0$0 ==.
      0007BC 81               [ 4] 1962 	ret
                           0007BD  1963 	G$motor_set_adc_battery_voltage_cut_off$0$0 ==.
                           0007BD  1964 	C$motor.c$1301$1_0$535 ==.
                                   1965 ;	motor.c: 1301: void motor_set_adc_battery_voltage_cut_off(uint8_t ui8_value)
                                   1966 ;	-----------------------------------------
                                   1967 ;	 function motor_set_adc_battery_voltage_cut_off
                                   1968 ;	-----------------------------------------
      0007BD                       1969 _motor_set_adc_battery_voltage_cut_off:
                           0007BD  1970 	C$motor.c$1303$1_0$535 ==.
                                   1971 ;	motor.c: 1303: ui8_adc_battery_voltage_cut_off = ui8_value;
      0007BD 7B 03            [ 1] 1972 	ld	a, (0x03, sp)
      0007BF C7u01u66         [ 1] 1973 	ld	_ui8_adc_battery_voltage_cut_off+0, a
                           0007C2  1974 	C$motor.c$1304$1_0$535 ==.
                                   1975 ;	motor.c: 1304: }
                           0007C2  1976 	C$motor.c$1304$1_0$535 ==.
                           0007C2  1977 	XG$motor_set_adc_battery_voltage_cut_off$0$0 ==.
      0007C2 81               [ 4] 1978 	ret
                                   1979 	.area CODE
                                   1980 	.area CONST
                                   1981 	.area INITIALIZER
                           000000  1982 Fmotor$__xinit_ui8_svm_table$0_0$0 == .
      000000                       1983 __xinit__ui8_svm_table:
      000000 EF                    1984 	.db #0xef	; 239
      000001 F1                    1985 	.db #0xf1	; 241
      000002 F2                    1986 	.db #0xf2	; 242
      000003 F3                    1987 	.db #0xf3	; 243
      000004 F5                    1988 	.db #0xf5	; 245
      000005 F6                    1989 	.db #0xf6	; 246
      000006 F7                    1990 	.db #0xf7	; 247
      000007 F8                    1991 	.db #0xf8	; 248
      000008 F9                    1992 	.db #0xf9	; 249
      000009 FA                    1993 	.db #0xfa	; 250
      00000A FB                    1994 	.db #0xfb	; 251
      00000B FB                    1995 	.db #0xfb	; 251
      00000C FC                    1996 	.db #0xfc	; 252
      00000D FD                    1997 	.db #0xfd	; 253
      00000E FD                    1998 	.db #0xfd	; 253
      00000F FE                    1999 	.db #0xfe	; 254
      000010 FE                    2000 	.db #0xfe	; 254
      000011 FE                    2001 	.db #0xfe	; 254
      000012 FF                    2002 	.db #0xff	; 255
      000013 FF                    2003 	.db #0xff	; 255
      000014 FF                    2004 	.db #0xff	; 255
      000015 FF                    2005 	.db #0xff	; 255
      000016 FF                    2006 	.db #0xff	; 255
      000017 FF                    2007 	.db #0xff	; 255
      000018 FE                    2008 	.db #0xfe	; 254
      000019 FE                    2009 	.db #0xfe	; 254
      00001A FE                    2010 	.db #0xfe	; 254
      00001B FD                    2011 	.db #0xfd	; 253
      00001C FD                    2012 	.db #0xfd	; 253
      00001D FC                    2013 	.db #0xfc	; 252
      00001E FB                    2014 	.db #0xfb	; 251
      00001F FA                    2015 	.db #0xfa	; 250
      000020 FA                    2016 	.db #0xfa	; 250
      000021 F9                    2017 	.db #0xf9	; 249
      000022 F8                    2018 	.db #0xf8	; 248
      000023 F7                    2019 	.db #0xf7	; 247
      000024 F5                    2020 	.db #0xf5	; 245
      000025 F4                    2021 	.db #0xf4	; 244
      000026 F3                    2022 	.db #0xf3	; 243
      000027 F2                    2023 	.db #0xf2	; 242
      000028 F0                    2024 	.db #0xf0	; 240
      000029 EF                    2025 	.db #0xef	; 239
      00002A EC                    2026 	.db #0xec	; 236
      00002B E7                    2027 	.db #0xe7	; 231
      00002C E3                    2028 	.db #0xe3	; 227
      00002D DE                    2029 	.db #0xde	; 222
      00002E D9                    2030 	.db #0xd9	; 217
      00002F D4                    2031 	.db #0xd4	; 212
      000030 CF                    2032 	.db #0xcf	; 207
      000031 CA                    2033 	.db #0xca	; 202
      000032 C5                    2034 	.db #0xc5	; 197
      000033 BF                    2035 	.db #0xbf	; 191
      000034 BA                    2036 	.db #0xba	; 186
      000035 B5                    2037 	.db #0xb5	; 181
      000036 B0                    2038 	.db #0xb0	; 176
      000037 AA                    2039 	.db #0xaa	; 170
      000038 A5                    2040 	.db #0xa5	; 165
      000039 A0                    2041 	.db #0xa0	; 160
      00003A 9A                    2042 	.db #0x9a	; 154
      00003B 95                    2043 	.db #0x95	; 149
      00003C 90                    2044 	.db #0x90	; 144
      00003D 8A                    2045 	.db #0x8a	; 138
      00003E 85                    2046 	.db #0x85	; 133
      00003F 7F                    2047 	.db #0x7f	; 127
      000040 7A                    2048 	.db #0x7a	; 122	'z'
      000041 74                    2049 	.db #0x74	; 116	't'
      000042 6F                    2050 	.db #0x6f	; 111	'o'
      000043 6A                    2051 	.db #0x6a	; 106	'j'
      000044 64                    2052 	.db #0x64	; 100	'd'
      000045 5F                    2053 	.db #0x5f	; 95
      000046 59                    2054 	.db #0x59	; 89	'Y'
      000047 54                    2055 	.db #0x54	; 84	'T'
      000048 4F                    2056 	.db #0x4f	; 79	'O'
      000049 4A                    2057 	.db #0x4a	; 74	'J'
      00004A 44                    2058 	.db #0x44	; 68	'D'
      00004B 3F                    2059 	.db #0x3f	; 63
      00004C 3A                    2060 	.db #0x3a	; 58
      00004D 35                    2061 	.db #0x35	; 53	'5'
      00004E 30                    2062 	.db #0x30	; 48	'0'
      00004F 2B                    2063 	.db #0x2b	; 43
      000050 26                    2064 	.db #0x26	; 38
      000051 21                    2065 	.db #0x21	; 33
      000052 1C                    2066 	.db #0x1c	; 28
      000053 17                    2067 	.db #0x17	; 23
      000054 12                    2068 	.db #0x12	; 18
      000055 10                    2069 	.db #0x10	; 16
      000056 0E                    2070 	.db #0x0e	; 14
      000057 0D                    2071 	.db #0x0d	; 13
      000058 0C                    2072 	.db #0x0c	; 12
      000059 0A                    2073 	.db #0x0a	; 10
      00005A 09                    2074 	.db #0x09	; 9
      00005B 08                    2075 	.db #0x08	; 8
      00005C 07                    2076 	.db #0x07	; 7
      00005D 06                    2077 	.db #0x06	; 6
      00005E 05                    2078 	.db #0x05	; 5
      00005F 04                    2079 	.db #0x04	; 4
      000060 03                    2080 	.db #0x03	; 3
      000061 03                    2081 	.db #0x03	; 3
      000062 02                    2082 	.db #0x02	; 2
      000063 01                    2083 	.db #0x01	; 1
      000064 01                    2084 	.db #0x01	; 1
      000065 01                    2085 	.db #0x01	; 1
      000066 00                    2086 	.db #0x00	; 0
      000067 00                    2087 	.db #0x00	; 0
      000068 00                    2088 	.db #0x00	; 0
      000069 00                    2089 	.db #0x00	; 0
      00006A 00                    2090 	.db #0x00	; 0
      00006B 00                    2091 	.db #0x00	; 0
      00006C 00                    2092 	.db #0x00	; 0
      00006D 00                    2093 	.db #0x00	; 0
      00006E 00                    2094 	.db #0x00	; 0
      00006F 01                    2095 	.db #0x01	; 1
      000070 01                    2096 	.db #0x01	; 1
      000071 02                    2097 	.db #0x02	; 2
      000072 02                    2098 	.db #0x02	; 2
      000073 03                    2099 	.db #0x03	; 3
      000074 04                    2100 	.db #0x04	; 4
      000075 05                    2101 	.db #0x05	; 5
      000076 06                    2102 	.db #0x06	; 6
      000077 06                    2103 	.db #0x06	; 6
      000078 08                    2104 	.db #0x08	; 8
      000079 09                    2105 	.db #0x09	; 9
      00007A 0A                    2106 	.db #0x0a	; 10
      00007B 0B                    2107 	.db #0x0b	; 11
      00007C 0C                    2108 	.db #0x0c	; 12
      00007D 0E                    2109 	.db #0x0e	; 14
      00007E 0F                    2110 	.db #0x0f	; 15
      00007F 11                    2111 	.db #0x11	; 17
      000080 0F                    2112 	.db #0x0f	; 15
      000081 0E                    2113 	.db #0x0e	; 14
      000082 0C                    2114 	.db #0x0c	; 12
      000083 0B                    2115 	.db #0x0b	; 11
      000084 0A                    2116 	.db #0x0a	; 10
      000085 09                    2117 	.db #0x09	; 9
      000086 08                    2118 	.db #0x08	; 8
      000087 06                    2119 	.db #0x06	; 6
      000088 06                    2120 	.db #0x06	; 6
      000089 05                    2121 	.db #0x05	; 5
      00008A 04                    2122 	.db #0x04	; 4
      00008B 03                    2123 	.db #0x03	; 3
      00008C 02                    2124 	.db #0x02	; 2
      00008D 02                    2125 	.db #0x02	; 2
      00008E 01                    2126 	.db #0x01	; 1
      00008F 01                    2127 	.db #0x01	; 1
      000090 00                    2128 	.db #0x00	; 0
      000091 00                    2129 	.db #0x00	; 0
      000092 00                    2130 	.db #0x00	; 0
      000093 00                    2131 	.db #0x00	; 0
      000094 00                    2132 	.db #0x00	; 0
      000095 00                    2133 	.db #0x00	; 0
      000096 00                    2134 	.db #0x00	; 0
      000097 00                    2135 	.db #0x00	; 0
      000098 00                    2136 	.db #0x00	; 0
      000099 01                    2137 	.db #0x01	; 1
      00009A 01                    2138 	.db #0x01	; 1
      00009B 01                    2139 	.db #0x01	; 1
      00009C 02                    2140 	.db #0x02	; 2
      00009D 03                    2141 	.db #0x03	; 3
      00009E 03                    2142 	.db #0x03	; 3
      00009F 04                    2143 	.db #0x04	; 4
      0000A0 05                    2144 	.db #0x05	; 5
      0000A1 06                    2145 	.db #0x06	; 6
      0000A2 07                    2146 	.db #0x07	; 7
      0000A3 08                    2147 	.db #0x08	; 8
      0000A4 09                    2148 	.db #0x09	; 9
      0000A5 0A                    2149 	.db #0x0a	; 10
      0000A6 0C                    2150 	.db #0x0c	; 12
      0000A7 0D                    2151 	.db #0x0d	; 13
      0000A8 0E                    2152 	.db #0x0e	; 14
      0000A9 10                    2153 	.db #0x10	; 16
      0000AA 12                    2154 	.db #0x12	; 18
      0000AB 17                    2155 	.db #0x17	; 23
      0000AC 1C                    2156 	.db #0x1c	; 28
      0000AD 21                    2157 	.db #0x21	; 33
      0000AE 26                    2158 	.db #0x26	; 38
      0000AF 2B                    2159 	.db #0x2b	; 43
      0000B0 30                    2160 	.db #0x30	; 48	'0'
      0000B1 35                    2161 	.db #0x35	; 53	'5'
      0000B2 3A                    2162 	.db #0x3a	; 58
      0000B3 3F                    2163 	.db #0x3f	; 63
      0000B4 44                    2164 	.db #0x44	; 68	'D'
      0000B5 4A                    2165 	.db #0x4a	; 74	'J'
      0000B6 4F                    2166 	.db #0x4f	; 79	'O'
      0000B7 54                    2167 	.db #0x54	; 84	'T'
      0000B8 59                    2168 	.db #0x59	; 89	'Y'
      0000B9 5F                    2169 	.db #0x5f	; 95
      0000BA 64                    2170 	.db #0x64	; 100	'd'
      0000BB 6A                    2171 	.db #0x6a	; 106	'j'
      0000BC 6F                    2172 	.db #0x6f	; 111	'o'
      0000BD 74                    2173 	.db #0x74	; 116	't'
      0000BE 7A                    2174 	.db #0x7a	; 122	'z'
      0000BF 7F                    2175 	.db #0x7f	; 127
      0000C0 85                    2176 	.db #0x85	; 133
      0000C1 8A                    2177 	.db #0x8a	; 138
      0000C2 90                    2178 	.db #0x90	; 144
      0000C3 95                    2179 	.db #0x95	; 149
      0000C4 9A                    2180 	.db #0x9a	; 154
      0000C5 A0                    2181 	.db #0xa0	; 160
      0000C6 A5                    2182 	.db #0xa5	; 165
      0000C7 AA                    2183 	.db #0xaa	; 170
      0000C8 B0                    2184 	.db #0xb0	; 176
      0000C9 B5                    2185 	.db #0xb5	; 181
      0000CA BA                    2186 	.db #0xba	; 186
      0000CB BF                    2187 	.db #0xbf	; 191
      0000CC C5                    2188 	.db #0xc5	; 197
      0000CD CA                    2189 	.db #0xca	; 202
      0000CE CF                    2190 	.db #0xcf	; 207
      0000CF D4                    2191 	.db #0xd4	; 212
      0000D0 D9                    2192 	.db #0xd9	; 217
      0000D1 DE                    2193 	.db #0xde	; 222
      0000D2 E3                    2194 	.db #0xe3	; 227
      0000D3 E7                    2195 	.db #0xe7	; 231
      0000D4 EC                    2196 	.db #0xec	; 236
      0000D5 EF                    2197 	.db #0xef	; 239
      0000D6 F0                    2198 	.db #0xf0	; 240
      0000D7 F2                    2199 	.db #0xf2	; 242
      0000D8 F3                    2200 	.db #0xf3	; 243
      0000D9 F4                    2201 	.db #0xf4	; 244
      0000DA F5                    2202 	.db #0xf5	; 245
      0000DB F7                    2203 	.db #0xf7	; 247
      0000DC F8                    2204 	.db #0xf8	; 248
      0000DD F9                    2205 	.db #0xf9	; 249
      0000DE FA                    2206 	.db #0xfa	; 250
      0000DF FA                    2207 	.db #0xfa	; 250
      0000E0 FB                    2208 	.db #0xfb	; 251
      0000E1 FC                    2209 	.db #0xfc	; 252
      0000E2 FD                    2210 	.db #0xfd	; 253
      0000E3 FD                    2211 	.db #0xfd	; 253
      0000E4 FE                    2212 	.db #0xfe	; 254
      0000E5 FE                    2213 	.db #0xfe	; 254
      0000E6 FE                    2214 	.db #0xfe	; 254
      0000E7 FF                    2215 	.db #0xff	; 255
      0000E8 FF                    2216 	.db #0xff	; 255
      0000E9 FF                    2217 	.db #0xff	; 255
      0000EA FF                    2218 	.db #0xff	; 255
      0000EB FF                    2219 	.db #0xff	; 255
      0000EC FF                    2220 	.db #0xff	; 255
      0000ED FE                    2221 	.db #0xfe	; 254
      0000EE FE                    2222 	.db #0xfe	; 254
      0000EF FE                    2223 	.db #0xfe	; 254
      0000F0 FD                    2224 	.db #0xfd	; 253
      0000F1 FD                    2225 	.db #0xfd	; 253
      0000F2 FC                    2226 	.db #0xfc	; 252
      0000F3 FB                    2227 	.db #0xfb	; 251
      0000F4 FB                    2228 	.db #0xfb	; 251
      0000F5 FA                    2229 	.db #0xfa	; 250
      0000F6 F9                    2230 	.db #0xf9	; 249
      0000F7 F8                    2231 	.db #0xf8	; 248
      0000F8 F7                    2232 	.db #0xf7	; 247
      0000F9 F6                    2233 	.db #0xf6	; 246
      0000FA F5                    2234 	.db #0xf5	; 245
      0000FB F3                    2235 	.db #0xf3	; 243
      0000FC F2                    2236 	.db #0xf2	; 242
      0000FD F1                    2237 	.db #0xf1	; 241
      0000FE EF                    2238 	.db #0xef	; 239
      0000FF EE                    2239 	.db #0xee	; 238
                           000100  2240 Fmotor$__xinit_ui8_sin_table$0_0$0 == .
      000100                       2241 __xinit__ui8_sin_table:
      000100 00                    2242 	.db #0x00	; 0
      000101 03                    2243 	.db #0x03	; 3
      000102 06                    2244 	.db #0x06	; 6
      000103 09                    2245 	.db #0x09	; 9
      000104 0C                    2246 	.db #0x0c	; 12
      000105 10                    2247 	.db #0x10	; 16
      000106 13                    2248 	.db #0x13	; 19
      000107 16                    2249 	.db #0x16	; 22
      000108 19                    2250 	.db #0x19	; 25
      000109 1C                    2251 	.db #0x1c	; 28
      00010A 1F                    2252 	.db #0x1f	; 31
      00010B 22                    2253 	.db #0x22	; 34
      00010C 25                    2254 	.db #0x25	; 37
      00010D 28                    2255 	.db #0x28	; 40
      00010E 2B                    2256 	.db #0x2b	; 43
      00010F 2E                    2257 	.db #0x2e	; 46
      000110 31                    2258 	.db #0x31	; 49	'1'
      000111 34                    2259 	.db #0x34	; 52	'4'
      000112 36                    2260 	.db #0x36	; 54	'6'
      000113 39                    2261 	.db #0x39	; 57	'9'
      000114 3C                    2262 	.db #0x3c	; 60
      000115 3F                    2263 	.db #0x3f	; 63
      000116 42                    2264 	.db #0x42	; 66	'B'
      000117 44                    2265 	.db #0x44	; 68	'D'
      000118 47                    2266 	.db #0x47	; 71	'G'
      000119 49                    2267 	.db #0x49	; 73	'I'
      00011A 4C                    2268 	.db #0x4c	; 76	'L'
      00011B 4E                    2269 	.db #0x4e	; 78	'N'
      00011C 51                    2270 	.db #0x51	; 81	'Q'
      00011D 53                    2271 	.db #0x53	; 83	'S'
      00011E 56                    2272 	.db #0x56	; 86	'V'
      00011F 58                    2273 	.db #0x58	; 88	'X'
      000120 5A                    2274 	.db #0x5a	; 90	'Z'
      000121 5C                    2275 	.db #0x5c	; 92
      000122 5F                    2276 	.db #0x5f	; 95
      000123 61                    2277 	.db #0x61	; 97	'a'
      000124 63                    2278 	.db #0x63	; 99	'c'
      000125 65                    2279 	.db #0x65	; 101	'e'
      000126 66                    2280 	.db #0x66	; 102	'f'
      000127 68                    2281 	.db #0x68	; 104	'h'
      000128 6A                    2282 	.db #0x6a	; 106	'j'
      000129 6C                    2283 	.db #0x6c	; 108	'l'
      00012A 6D                    2284 	.db #0x6d	; 109	'm'
      00012B 6F                    2285 	.db #0x6f	; 111	'o'
      00012C 71                    2286 	.db #0x71	; 113	'q'
      00012D 72                    2287 	.db #0x72	; 114	'r'
      00012E 73                    2288 	.db #0x73	; 115	's'
      00012F 75                    2289 	.db #0x75	; 117	'u'
      000130 76                    2290 	.db #0x76	; 118	'v'
      000131 77                    2291 	.db #0x77	; 119	'w'
      000132 78                    2292 	.db #0x78	; 120	'x'
      000133 79                    2293 	.db #0x79	; 121	'y'
      000134 7A                    2294 	.db #0x7a	; 122	'z'
      000135 7B                    2295 	.db #0x7b	; 123
      000136 7C                    2296 	.db #0x7c	; 124
      000137 7D                    2297 	.db #0x7d	; 125
      000138 7D                    2298 	.db #0x7d	; 125
      000139 7E                    2299 	.db #0x7e	; 126
      00013A 7E                    2300 	.db #0x7e	; 126
      00013B 7F                    2301 	.db #0x7f	; 127
                           00013C  2302 Fmotor$__xinit_ui16_PWM_cycles_counter$0_0$0 == .
      00013C                       2303 __xinit__ui16_PWM_cycles_counter:
      00013C 00 01                 2304 	.dw #0x0001
                           00013E  2305 Fmotor$__xinit_ui16_PWM_cycles_counter_6$0_0$0 == .
      00013E                       2306 __xinit__ui16_PWM_cycles_counter_6:
      00013E 00 01                 2307 	.dw #0x0001
                           000140  2308 Fmotor$__xinit_ui16_PWM_cycles_counter_total$0_0$0 == .
      000140                       2309 __xinit__ui16_PWM_cycles_counter_total:
      000140 FF FF                 2310 	.dw #0xffff
                           000142  2311 Fmotor$__xinit_ui16_max_motor_speed_erps$0_0$0 == .
      000142                       2312 __xinit__ui16_max_motor_speed_erps:
      000142 02 08                 2313 	.dw #0x0208
                           000144  2314 Fmotor$__xinit_ui16_motor_speed_erps$0_0$0 == .
      000144                       2315 __xinit__ui16_motor_speed_erps:
      000144 00 00                 2316 	.dw #0x0000
                           000146  2317 Fmotor$__xinit_ui8_svm_table_index$0_0$0 == .
      000146                       2318 __xinit__ui8_svm_table_index:
      000146 00                    2319 	.db #0x00	; 0
                           000147  2320 Fmotor$__xinit_ui8_motor_rotor_absolute_angle$0_0$0 == .
      000147                       2321 __xinit__ui8_motor_rotor_absolute_angle:
      000147 00                    2322 	.db #0x00	; 0
                           000148  2323 Fmotor$__xinit_ui8_motor_rotor_angle$0_0$0 == .
      000148                       2324 __xinit__ui8_motor_rotor_angle:
      000148 00                    2325 	.db #0x00	; 0
                           000149  2326 Fmotor$__xinit_ui8_foc_angle$0_0$0 == .
      000149                       2327 __xinit__ui8_foc_angle:
      000149 00                    2328 	.db #0x00	; 0
                           00014A  2329 Fmotor$__xinit_ui8_interpolation_angle$0_0$0 == .
      00014A                       2330 __xinit__ui8_interpolation_angle:
      00014A 00                    2331 	.db #0x00	; 0
                           00014B  2332 Fmotor$__xinit_ui16_foc_angle_accumulated$0_0$0 == .
      00014B                       2333 __xinit__ui16_foc_angle_accumulated:
      00014B 00 00                 2334 	.dw #0x0000
                           00014D  2335 Fmotor$__xinit_ui8_motor_commutation_type$0_0$0 == .
      00014D                       2336 __xinit__ui8_motor_commutation_type:
      00014D 01                    2337 	.db #0x01	; 1
                           00014E  2338 Fmotor$__xinit_ui8_motor_controller_state$0_0$0 == .
      00014E                       2339 __xinit__ui8_motor_controller_state:
      00014E 01                    2340 	.db #0x01	; 1
                           00014F  2341 Fmotor$__xinit_ui8_hall_sensors_state$0_0$0 == .
      00014F                       2342 __xinit__ui8_hall_sensors_state:
      00014F 00                    2343 	.db #0x00	; 0
                           000150  2344 Fmotor$__xinit_ui8_hall_sensors_state_last$0_0$0 == .
      000150                       2345 __xinit__ui8_hall_sensors_state_last:
      000150 00                    2346 	.db #0x00	; 0
                           000151  2347 Fmotor$__xinit_ui8_half_erps_flag$0_0$0 == .
      000151                       2348 __xinit__ui8_half_erps_flag:
      000151 00                    2349 	.db #0x00	; 0
                           000152  2350 Fmotor$__xinit_ui8_duty_cycle$0_0$0 == .
      000152                       2351 __xinit__ui8_duty_cycle:
      000152 00                    2352 	.db #0x00	; 0
                           000153  2353 Fmotor$__xinit_ui8_duty_cycle_target$0_0$0 == .
      000153                       2354 __xinit__ui8_duty_cycle_target:
      000153 00                    2355 	.db #0x00	; 0
                           000154  2356 Fmotor$__xinit_ui16_duty_cycle_ramp_up_inverse_step$0_0$0 == .
      000154                       2357 __xinit__ui16_duty_cycle_ramp_up_inverse_step:
      000154 00 00                 2358 	.dw #0x0000
                           000156  2359 Fmotor$__xinit_ui16_duty_cycle_ramp_down_inverse_step$0_0$0 == .
      000156                       2360 __xinit__ui16_duty_cycle_ramp_down_inverse_step:
      000156 00 00                 2361 	.dw #0x0000
                           000158  2362 Fmotor$__xinit_ui16_counter_duty_cycle_ramp_up$0_0$0 == .
      000158                       2363 __xinit__ui16_counter_duty_cycle_ramp_up:
      000158 00 00                 2364 	.dw #0x0000
                           00015A  2365 Fmotor$__xinit_ui16_counter_duty_cycle_ramp_down$0_0$0 == .
      00015A                       2366 __xinit__ui16_counter_duty_cycle_ramp_down:
      00015A 00 00                 2367 	.dw #0x0000
                           00015C  2368 Fmotor$__xinit_ui8_phase_a_voltage$0_0$0 == .
      00015C                       2369 __xinit__ui8_phase_a_voltage:
      00015C 00                    2370 	.db #0x00	; 0
                           00015D  2371 Fmotor$__xinit_ui8_phase_b_voltage$0_0$0 == .
      00015D                       2372 __xinit__ui8_phase_b_voltage:
      00015D 00                    2373 	.db #0x00	; 0
                           00015E  2374 Fmotor$__xinit_ui8_phase_c_voltage$0_0$0 == .
      00015E                       2375 __xinit__ui8_phase_c_voltage:
      00015E 00                    2376 	.db #0x00	; 0
                           00015F  2377 Fmotor$__xinit_ui16_counter_adc_battery_current_ramp_up$0_0$0 == .
      00015F                       2378 __xinit__ui16_counter_adc_battery_current_ramp_up:
      00015F 00 00                 2379 	.dw #0x0000
                           000161  2380 Fmotor$__xinit_ui8_controller_adc_battery_max_current$0_0$0 == .
      000161                       2381 __xinit__ui8_controller_adc_battery_max_current:
      000161 00                    2382 	.db #0x00	; 0
                           000162  2383 Fmotor$__xinit_ui16_counter_adc_motor_current_ramp_up$0_0$0 == .
      000162                       2384 __xinit__ui16_counter_adc_motor_current_ramp_up:
      000162 00 00                 2385 	.dw #0x0000
                           000164  2386 Fmotor$__xinit_ui8_controller_adc_motor_max_current$0_0$0 == .
      000164                       2387 __xinit__ui8_controller_adc_motor_max_current:
      000164 00                    2388 	.db #0x00	; 0
                           000165  2389 Fmotor$__xinit_ui8_first_time_run_flag$0_0$0 == .
      000165                       2390 __xinit__ui8_first_time_run_flag:
      000165 01                    2391 	.db #0x01	; 1
                           000166  2392 Fmotor$__xinit_ui8_adc_battery_voltage_cut_off$0_0$0 == .
      000166                       2393 __xinit__ui8_adc_battery_voltage_cut_off:
      000166 FF                    2394 	.db #0xff	; 255
                           000167  2395 Fmotor$__xinit_ui16_adc_battery_voltage_accumulated$0_0$0 == .
      000167                       2396 __xinit__ui16_adc_battery_voltage_accumulated:
      000167 00 00                 2397 	.dw #0x0000
                           000169  2398 Fmotor$__xinit_ui16_adc_battery_voltage_filtered_10b$0_0$0 == .
      000169                       2399 __xinit__ui16_adc_battery_voltage_filtered_10b:
      000169 00 00                 2400 	.dw #0x0000
                           00016B  2401 Fmotor$__xinit_ui16_adc_battery_current_accumulated$0_0$0 == .
      00016B                       2402 __xinit__ui16_adc_battery_current_accumulated:
      00016B 00 00                 2403 	.dw #0x0000
                           00016D  2404 Fmotor$__xinit_ui8_adc_battery_current_filtered_10b$0_0$0 == .
      00016D                       2405 __xinit__ui8_adc_battery_current_filtered_10b:
      00016D 00                    2406 	.db #0x00	; 0
                           00016E  2407 Fmotor$__xinit_ui16_adc_battery_current_10b$0_0$0 == .
      00016E                       2408 __xinit__ui16_adc_battery_current_10b:
      00016E 00 00                 2409 	.dw #0x0000
                           000170  2410 Fmotor$__xinit_ui8_adc_battery_current$0_0$0 == .
      000170                       2411 __xinit__ui8_adc_battery_current:
      000170 00                    2412 	.db #0x00	; 0
                           000171  2413 Fmotor$__xinit_ui8_adc_motor_phase_current$0_0$0 == .
      000171                       2414 __xinit__ui8_adc_motor_phase_current:
      000171 00                    2415 	.db #0x00	; 0
                           000172  2416 Fmotor$__xinit_ui8_current_controller_counter$0_0$0 == .
      000172                       2417 __xinit__ui8_current_controller_counter:
      000172 00                    2418 	.db #0x00	; 0
                           000173  2419 Fmotor$__xinit_ui8_current_controller_flag$0_0$0 == .
      000173                       2420 __xinit__ui8_current_controller_flag:
      000173 00                    2421 	.db #0x00	; 0
                           000174  2422 Fmotor$__xinit_ui8_adc_target_motor_phase_max_current$0_0$0 == .
      000174                       2423 __xinit__ui8_adc_target_motor_phase_max_current:
      000174 00                    2424 	.db #0x00	; 0
                           000175  2425 Fmotor$__xinit_ui8_adc_motor_phase_current_offset$0_0$0 == .
      000175                       2426 __xinit__ui8_adc_motor_phase_current_offset:
      000175 00                    2427 	.db #0x00	; 0
                           000176  2428 Fmotor$__xinit_ui8_pas_state$0_0$0 == .
      000176                       2429 __xinit__ui8_pas_state:
      000176 00                    2430 	.db #0x00	; 0
                           000177  2431 Fmotor$__xinit_ui8_pas_state_old$0_0$0 == .
      000177                       2432 __xinit__ui8_pas_state_old:
      000177 00                    2433 	.db #0x00	; 0
                           000178  2434 Fmotor$__xinit_ui8_pas_after_first_pulse$0_0$0 == .
      000178                       2435 __xinit__ui8_pas_after_first_pulse:
      000178 00                    2436 	.db #0x00	; 0
                           000179  2437 Fmotor$__xinit_ui16_pas_counter$0_0$0 == .
      000179                       2438 __xinit__ui16_pas_counter:
      000179 24 9F                 2439 	.dw #0x249f
                           00017B  2440 Fmotor$__xinit_ui16_torque_sensor_throttle_processed_value$0_0$0 == .
      00017B                       2441 __xinit__ui16_torque_sensor_throttle_processed_value:
      00017B 00 00                 2442 	.dw #0x0000
                           00017D  2443 Fmotor$__xinit_ui8_torque_sensor_pas_signal_change_counter$0_0$0 == .
      00017D                       2444 __xinit__ui8_torque_sensor_pas_signal_change_counter:
      00017D 00                    2445 	.db #0x00	; 0
                           00017E  2446 Fmotor$__xinit_ui16_torque_sensor_throttle_max_value$0_0$0 == .
      00017E                       2447 __xinit__ui16_torque_sensor_throttle_max_value:
      00017E 00 00                 2448 	.dw #0x0000
                           000180  2449 Fmotor$__xinit_ui16_torque_sensor_throttle_value$0_0$0 == .
      000180                       2450 __xinit__ui16_torque_sensor_throttle_value:
      000180 00 00                 2451 	.dw #0x0000
                           000182  2452 Fmotor$__xinit_ui8_wheel_speed_sensor_state$0_0$0 == .
      000182                       2453 __xinit__ui8_wheel_speed_sensor_state:
      000182 01                    2454 	.db #0x01	; 1
                           000183  2455 Fmotor$__xinit_ui8_wheel_speed_sensor_state_old$0_0$0 == .
      000183                       2456 __xinit__ui8_wheel_speed_sensor_state_old:
      000183 01                    2457 	.db #0x01	; 1
                           000184  2458 Fmotor$__xinit_ui16_wheel_speed_sensor_counter$0_0$0 == .
      000184                       2459 __xinit__ui16_wheel_speed_sensor_counter:
      000184 00 00                 2460 	.dw #0x0000
                           000186  2461 Fmotor$__xinit_ui8_wheel_speed_sensor_change_counter$0_0$0 == .
      000186                       2462 __xinit__ui8_wheel_speed_sensor_change_counter:
      000186 00                    2463 	.db #0x00	; 0
                                   2464 	.area CABS (ABS)
